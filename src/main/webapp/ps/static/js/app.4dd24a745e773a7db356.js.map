{"version":3,"sources":["webpack:///./src/App.vue?8b8b","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/topToolBar/topToolBar.vue?b68d","webpack:///./src/components/topToolBar/topToolBar.vue","webpack:///src/components/topToolBar/topToolBar.vue","webpack:///./src/common/dateUtil.js","webpack:///./src/common/const.js","webpack:///src/components/productLineBar/productLineBar.vue","webpack:///./src/components/productLineBar/productLineBar.vue?bfae","webpack:///./src/components/productLineBar/productLineBar.vue","webpack:///src/components/dateBar/dateBar.vue","webpack:///./src/components/dateBar/dateBar.vue?3d95","webpack:///./src/components/dateBar/dateBar.vue","webpack:///src/components/backgroundCanvas/backgroundCanvas.vue","webpack:///./src/components/backgroundCanvas/backgroundCanvas.vue?5523","webpack:///./src/components/backgroundCanvas/backgroundCanvas.vue","webpack:///src/components/progressBarCanvas/progressBarCanvas.vue","webpack:///./src/common/strUtil.js","webpack:///./src/common/M2V.js","webpack:///./src/common/V2M.js","webpack:///./src/components/progressBarCanvas/progressBarCanvas.vue?be1b","webpack:///./src/components/progressBarCanvas/progressBarCanvas.vue","webpack:///./src/vo/progressBar.js","webpack:///./src/vo/productLine.js","webpack:///./src/vo/factoryCalendar.js","webpack:///src/components/windowOfAddProgressBar/windowOfAddProgressBar.vue","webpack:///./src/components/windowOfAddProgressBar/windowOfAddProgressBar.vue?4e7c","webpack:///./src/components/windowOfAddProgressBar/windowOfAddProgressBar.vue","webpack:///./src/components/toast/toast.vue?d35e","webpack:///./src/components/toast/toast.vue","webpack:///src/components/index/index.vue","webpack:///src/components/toast/toast.vue","webpack:///./src/components/index/index.vue?8393","webpack:///./src/components/index/index.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/common/scrollUtil.js","webpack:///./src/common/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","topToolBar_topToolBar","_vm","staticClass","on","click","historyBack","_v","historyRemake","submitBtn","refreshPage","showNumberOfWork","directives","rawName","value","isShowNumberofwork","expression","showWorkingHours","isShowWorkingHours","components_topToolBar_topToolBar","topToolBar_normalizeComponent","data","computed","$store","state","methods","DateUtil","classCallCheck_default","str","length","year","month","Date","getDate","day","zeroFillOfMonthOrDay","date","getDay","dateStr","dateStrList","split","getTime","timeStamp","time","getFullYear","getMonth","sTimeStamp","eTimeStamp","Math","ceil","timeStampOfOneDay","resultList","count","timeStampsToDayCount","push","timeStampToDate","i","index","firstTimeStampOfShow","now","yearOfPrevious","monthOfPrevious","getDayCountOfMonth","strToTimeStamp","monthListOfShow","Number","firstYearStr","lastYearStr","list","dayCountOfShow","Const","height","lineWidth","width","borderColor","activedBackgroundColor","top","fontStyle","paddingLeft","productLineBar","props","styleOfProductLinesClass","cssAboutScroll","styleOfTitleClass","position","common_const","STYLEOFTOOLBAR","left","STYLEOFPRODUCTLINESBAR","lineHeight","styleOfProductLinesHook","marginTop","watch","scrollDirection","console","log","created","productLineBar_productLineBar","ref","style","_l","item","key","_s","fullName","components_productLineBar_productLineBar","productLineBar_normalizeComponent","dateBar","dateUtil","styleOfMonthsClass","getDays","yearandmonth","isHoliday","factoryCalendarObj","dateBar_dateBar","index2","class","weekend","components_dateBar_dateBar","dateBar_normalizeComponent","backgroundCanvas","msgOfCanvas","STYLEOFCELL","countOfProductLines","mounted","ctx","$refs","background","getContext","strokeStyle","fillStyle","n","m","indexToDateStr","fillRect","strokeRect","backgroundCanvas_backgroundCanvas","tOfMouseHoverOfSourceCanvas","components_backgroundCanvas_backgroundCanvas","backgroundCanvas_normalizeComponent","StrUtil","decimal","toFixed","M2V","timeStampTmpl","dayCount","floor","residueTimeStamp","percent","CONST","startTime","endTime","timeStampToX","productLineIndex","STYLEOFPROGRESSBAR","V2M","productLineList","y","yToProductLineIndex","x","progressBarCanvas","factoryCalendar","ctxOfSource","ctxOfTemp","beforeProductLineIndex","afterProductLineIndex","isShowCtxOfTmp","_this","sourceCanvas","tempCanvas","commit","forEach","getProgressList","progressBar","mousedownOfSourceCanvas","e","getProgressBarByXY","getProductLineIndex","clear","renderWithOutIdList","getId","mousemoveOfSourceCavnas","clearTimeout","that","clientX","window","pageXOffset","clientY","pageYOffset","setTimeout","mousemoveOfTempCanvas","activedProgressBar","totalWidth","totalHeight","widthOfWindow","document","body","clientWidth","heightOfWindow","clientHeight","differenceX","scroll","differenceY","move","mouseupOfTempCanvas","common_V2M","activedProductLine","beforeProductLine","startTimeStamp","xToTimeStamp","clearRect","canvas","offsetWidth","offsetHeight","getEfficiency","getProductStyleName","showToast","removeProgressById","reload","getStartTime","getEndTime","addProgress","progressBarList","progressIndex","isInArea","progressBarCanvas_progressBarCanvas","mousedown","$event","mousemove","mouseup","components_progressBarCanvas_progressBarCanvas","progressBarCanvas_normalizeComponent","ProgressBar","productionlineId","msgOfProgressBar","qtyFinish","sam","qtyofbatcheddelivery","efficiencyOfClass","productStyleName","needWorkDayCount","productLine","setEndTime","getIndex","effficiencyOfProductionLine","peopleNum","getPeopleNumByDate","workHours","getWorkHoursByDate","msgOfCSS","save","translate","beginPath","moveTo","lineTo","stroke","closePath","getPercentOfQuantityOfWork","font","textBaseline","fillText","decimalToPercent","orderno","restore","differenceTimeStampToWidth","productLineIndexToY","progressBarOfLocal","progressBarOfCompare","ProductLine","workgroup","workshop","lineCode","workhours","peopleNumOfLineList","workhoursOfLineList","efficiencyOfLineList","progressList","styleName","efficiency","find","findIndex","getProgressIndexById","splice","progressBarOfInsert","progressBarLocal","relationOfInsert","progressBarIndexOfReset","isInserted","progressBarIndex","relation","getRelationByProgressBar","idList","indexOf","FactoryCalendar","yearList","dayList","festivalDayList","Mon","Tues","Wed","Thurs","Fri","Sat","Sun","festivalDay","weekDay","timeStampTemp","holidayCount","windowOfAddProgressBar","tableTitle","title","align","h","params","row","deliveryoffactoryTime","isShowWindow","isShowWindowOfAddProgress","cssOfWindow","waitingAddProgressList","toggleWindow","dragProgress","vo_progressBar","windowOfAddProgressBar_windowOfAddProgressBar","type","border","columns","on-row-dblclick","toast_toast","txt","components_index","isDone","isShowToast","toastTxt","getFactoryCalendar","getAllForAddProgress","yearListOfShow","axios","get","seieiURL","join","then","response","status","$Message","error","msg","vo_factoryCalendar","festivalList","item2","concat","timeStampsToDateStrList","beginDate","endDate","addDetailByYear","monday","tuesday","wednesday","thursday","friday","saturday","sunday","getProductLine","catch","content","duration","closable","resourceData","productlineList","productLineItem","vo_productLine","productionPlanningDetailList","progressItemTemp","progressItem","setProgressList","components","v-topToolBar","v-productLinBar","v-dateBar","v-backgroundCanvas","v-progressBarCanvas","v-windowOfAddProgressBar","windowOfAddProgressBar_normalizeComponent","v-toast","toast_normalizeComponent","selectortype_template_index_0_src_components_index","_e","src_components_index","index_normalizeComponent","Vue","use","Router","router","routes","path","component","Vuex","store","Store","mutations","setCtxOfSource","setCtxOfTemp","scrollUpOrDown","scrollRightOrLeft","setFactoryCalendarObj","setProductLineList","hideToast","toggleIsShowWindowOfAddProgress","setWaitingAddProgressList","setActivedProgressBar","toggleIsShowCtxOfTmp","ScrollUtil","scrollXY","diffX","diffY","common","install","opt","mixin","$nextTick","scrollUtil","onscroll","config","productionTip","VueAxios","Axios","Common","ViewUI","el","App","template"],"mappings":"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","file":"static/js/app.4dd24a745e773a7db356.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-05dc1ed8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05dc1ed8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05dc1ed8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topToolBar-component zIndexSuperTop\"},[_c('div',{staticClass:\"item\",on:{\"click\":_vm.historyBack}},[_vm._v(\"撤回\"),_c('i',{staticClass:\"iconfont icon-jijiangdaozhang\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":_vm.historyRemake}},[_vm._v(\"重做\"),_c('i',{staticClass:\"iconfont icon-zuji\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":_vm.submitBtn}},[_vm._v(\"保存\"),_c('i',{staticClass:\"iconfont icon-selectfill\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":_vm.refreshPage}},[_vm._v(\"刷新\"),_c('i',{staticClass:\"iconfont icon-refresh\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":_vm.showNumberOfWork}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowNumberofwork),expression:\"!isShowNumberofwork\"}]},[_vm._v(\"显示工作人数\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowNumberofwork),expression:\"isShowNumberofwork\"}]},[_vm._v(\"隐藏工作人数\")]),_c('i',{staticClass:\"iconfont icon-favfill\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item\",on:{\"click\":_vm.showWorkingHours}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowWorkingHours),expression:\"!isShowWorkingHours\"}]},[_vm._v(\"显示工作时间\")]),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowWorkingHours),expression:\"isShowWorkingHours\"}]},[_vm._v(\"隐藏工作时间\")]),_c('i',{staticClass:\"iconfont icon-favfill\"})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e127bfb4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/topToolBar/topToolBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e127bfb4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./topToolBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./topToolBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./topToolBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e127bfb4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./topToolBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e127bfb4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/topToolBar/topToolBar.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"topToolBar-component zIndexSuperTop\">\r\n        <!-- 编辑工具栏 -->\r\n        <div class=\"item\" @click=\"historyBack\">撤回<i class=\"iconfont icon-jijiangdaozhang\"></i></div>\r\n        <div class=\"item\" @click=\"historyRemake\">重做<i class=\"iconfont icon-zuji\"></i></div>\r\n        <div class=\"item\" @click=\"submitBtn\">保存<i class=\"iconfont icon-selectfill\"></i></div>\r\n        <div class=\"item\" @click=\"refreshPage\">刷新<i class=\"iconfont icon-refresh\"></i></div>\r\n        <div class=\"item\" @click=\"showNumberOfWork\"><span v-show=\"!isShowNumberofwork\">显示工作人数</span><span v-show=\"isShowNumberofwork\">隐藏工作人数</span><i class=\"iconfont icon-favfill\"></i></div>\r\n        <div class=\"item\" @click=\"showWorkingHours\"><span v-show=\"!isShowWorkingHours\">显示工作时间</span><span v-show=\"isShowWorkingHours\">隐藏工作时间</span><i class=\"iconfont icon-favfill\"></i></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data: function() {\r\n        return {\r\n        }\r\n    },\r\n    computed: {\r\n        isShowNumberofwork() {\r\n            return this.$store.state.isShowNumberofwork;\r\n        },\r\n        isShowWorkingHours() {\r\n            return this.$store.state.isShowWorkingHours;\r\n        }\r\n    },\r\n    methods: {\r\n        historyBack: function() {\r\n\r\n        },\r\n        historyRemake: function() {\r\n\r\n        },\r\n        submitBtn: function() {\r\n\r\n        },\r\n        refreshPage: function() {\r\n\r\n        },\r\n        showNumberOfWork: function() {\r\n\r\n        },\r\n        showWorkingHours: function() {\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 工具栏 */\r\n.topToolBar-component {\r\n\tposition: fixed;\r\n\ttop: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #ddd;\r\n}\r\n.topToolBar-component .item {\r\n\tdisplay: inline-block;\r\n    box-sizing: border-box;\r\n    padding: 0px 5px;\r\n    margin: 5px 0px 5px 5px;\r\n    line-height: 25px;\r\n    font-size: 14px;\r\n    border-radius: 4px;\r\n    background-color: #3BBF67;\r\n    color: #fff;\r\n}\r\n.topToolBar-component .item:hover {\r\n\tbackground-color: #23733e;;\r\n\tcursor:pointer\r\n}\r\n.topToolBar-component .iconfont {\r\n\tmargin-left: 4px;\r\n\tfont-size: 14px!important;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/topToolBar/topToolBar.vue","// 时间工具\r\nexport default class DateUtil {\r\n    constructor() {\r\n    }\r\n\r\n    // 显示的第一天时间戳\r\n    static get firstTimeStampOfShow() {\r\n        var now = new Date();\r\n        var yearOfPrevious = now.getMonth() == 0 ? now.getFullYear() - 1 : now.getFullYear(); // 当前时间的上一个月的年份\r\n        var monthOfPrevious = now.getMonth() == 0 ? 12 : now.getMonth(); // 当前时间的上一个月的月份\r\n        monthOfPrevious = DateUtil.zeroFillOfMonthOrDay(monthOfPrevious);\r\n        var dayCountOfShow = DateUtil.getDayCountOfMonth(yearOfPrevious, monthOfPrevious);\r\n        return DateUtil.strToTimeStamp(yearOfPrevious + \"-\" + monthOfPrevious + \"-01\"); \r\n    }\r\n\r\n    // 用于日期栏显示\r\n    static get monthListOfShow() {\r\n        var now = new Date();\r\n        var yearOfPrevious = now.getMonth() == 0 ? now.getFullYear() - 1 : now.getFullYear(); // 当前时间的上一个月的年份\r\n        var monthOfPrevious = now.getMonth() == 0 ? 12 : now.getMonth(); // 当前时间的上一个月的月份\r\n        monthOfPrevious = DateUtil.zeroFillOfMonthOrDay(monthOfPrevious);\r\n        var monthListOfShow = [yearOfPrevious + \"-\" + monthOfPrevious];\r\n        // 制作日期栏标题数组以及用于显示的单元格总个数即总天数\r\n        for (var i = 0; i < 13; i++) {\r\n            monthOfPrevious = Number(monthOfPrevious) + 1;\r\n            if (monthOfPrevious > 12) {\r\n                monthOfPrevious = 1;\r\n                yearOfPrevious += 1\r\n            }\r\n            monthOfPrevious = DateUtil.zeroFillOfMonthOrDay(monthOfPrevious);\r\n            monthListOfShow.push(yearOfPrevious + '-' + monthOfPrevious);\r\n        }\r\n        return monthListOfShow;\r\n    }\r\n\r\n    // 获取日期栏显示 year 的列表\r\n    static get yearListOfShow() {\r\n        var monthListOfShow = DateUtil.monthListOfShow;\r\n        var firstYearStr = monthListOfShow[0];\r\n        var lastYearStr = monthListOfShow[monthListOfShow.length-1];\r\n        var list = [];\r\n        firstYearStr = firstYearStr.split(\"-\")[0];\r\n        lastYearStr = lastYearStr.split(\"-\")[0];\r\n        list.push(firstYearStr);\r\n        if (firstYearStr != lastYearStr) {\r\n            list.push(lastYearStr);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    // 显示的总天数\r\n    static get dayCountOfShow() {\r\n        var now = new Date();\r\n        var yearOfPrevious = now.getMonth() == 0 ? now.getFullYear() - 1 : now.getFullYear(); // 当前时间的上一个月的年份\r\n        var monthOfPrevious = now.getMonth() == 0 ? 12 : now.getMonth(); // 当前时间的上一个月的月份\r\n        monthOfPrevious = DateUtil.zeroFillOfMonthOrDay(monthOfPrevious);\r\n        var dayCountOfShow = DateUtil.getDayCountOfMonth(yearOfPrevious, monthOfPrevious);\r\n        // 制作日期栏标题数组以及用于显示的单元格总个数即总天数\r\n        for (var i = 0; i < 13; i++) {\r\n            monthOfPrevious = Number(monthOfPrevious) + 1;\r\n            if (monthOfPrevious > 12) {\r\n                monthOfPrevious = 1;\r\n                yearOfPrevious += 1\r\n            }\r\n            monthOfPrevious = DateUtil.zeroFillOfMonthOrDay(monthOfPrevious);\r\n            dayCountOfShow += DateUtil.getDayCountOfMonth(yearOfPrevious, monthOfPrevious);\r\n        }\r\n        return dayCountOfShow;\r\n    }\r\n\r\n    // 一天的总时间戳\r\n    static get timeStampOfOneDay() {\r\n        return 24*60*60*1000;\r\n    }\r\n    \r\n    /**\r\n     * 月份或日期补零\r\n     * @param {*} str 月份或日期字符串\r\n     */\r\n    static zeroFillOfMonthOrDay(str) {\r\n        return (str + \"\").length == 2 ? str : \"0\" + str; \r\n    }\r\n\r\n    /**\r\n     * 获取某年某月的总天数\r\n     * @param {*} year 年\r\n     * @param {*} month 月\r\n     */\r\n    static getDayCountOfMonth(year, month) {\r\n        return new Date(year, month, 0).getDate();\r\n    }\r\n\r\n    /**\r\n     * 判断是否为周末\r\n     * @param {*} year 年\r\n     * @param {*} month 月\r\n     * @param {*} day 日\r\n     */\r\n    static isWeekEnd(year, month, day) {\r\n        month = DateUtil.zeroFillOfMonthOrDay(month);\r\n        day = DateUtil.zeroFillOfMonthOrDay(day);\r\n        var date = new Date(year + \"/\" + month + \"/\" + day + \" 00:00:00\");\r\n        if (date.getDay() == 0 || date.getDay() == 6) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 日期形式的字符串转化为时间戳，形如 \"2019-11-18\"\r\n     * @param {*} dateStr 日期字符串\r\n     */\r\n    static strToTimeStamp(dateStr) {\r\n        var dateStrList = dateStr.split(\"-\");\r\n        var year = dateStrList[0];\r\n        var month = DateUtil.zeroFillOfMonthOrDay(dateStrList[1]);\r\n        var day = DateUtil.zeroFillOfMonthOrDay(dateStrList[2]);\r\n        return new Date(year + \"/\" + month + \"/\" + day + \" 00:00:00\").getTime();\r\n    }\r\n\r\n    /**\r\n     * 时间戳转化为日期形式的字符串，形如 \"2019-11-18\"\r\n     * @param {*} timeStamp \r\n     */\r\n    static timeStampToDate(timeStamp) {\r\n        var time = new Date(timeStamp);\r\n        return (time.getFullYear() + \"-\" + DateUtil.zeroFillOfMonthOrDay(time.getMonth() + 1) + \"-\" + DateUtil.zeroFillOfMonthOrDay(time.getDate()));\r\n    }\r\n\r\n    /**\r\n     * 通过两个时间戳的差值转化为 天数\r\n     * @param {*} sTimeStamp 开始时间\r\n     * @param {*} eTimeStamp 结束时间\r\n     */\r\n    static timeStampsToDayCount(sTimeStamp, eTimeStamp) {\r\n        var timeStamp = eTimeStamp - sTimeStamp;\r\n        return Math.ceil(timeStamp / DateUtil.timeStampOfOneDay)\r\n    }\r\n\r\n    /**\r\n     * 通过两个时间戳的差值转化为它们之间的 日期列表\r\n     * 如 sTimeStamp=1571846400000, eTimeStamp=1572019200000\r\n     * 返回的是二者之间的日期类别，即 [\"2019-10-24\", \"2019-10-25\", \"2019-10-26\"]\r\n     * @param {*} sTimeStamp 开始时间戳\r\n     * @param {*} eTimeStamp 结束时间戳\r\n     */\r\n    static timeStampsToDateStrList(sTimeStamp, eTimeStamp) {\r\n        var resultList = [];\r\n        var count = DateUtil.timeStampsToDayCount(sTimeStamp, eTimeStamp);\r\n        resultList.push(DateUtil.timeStampToDate(sTimeStamp));\r\n        for (var i=0; i<count; i++) {\r\n            resultList.push(DateUtil.timeStampToDate(sTimeStamp + (i + 1)*DateUtil.timeStampOfOneDay))\r\n        }\r\n        return resultList;\r\n    }\r\n\r\n    /**\r\n     * 通过画布的日期栏索引转化为 日期字符串，如 \"2019-10-19\"\r\n     * @param {*} index 索引\r\n     */\r\n    static indexToDateStr(index) {\r\n        var timeStamp = DateUtil.firstTimeStampOfShow + index * DateUtil.timeStampOfOneDay;\r\n        return DateUtil.timeStampToDate(timeStamp);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/dateUtil.js","import DateUtil from \"./dateUtil\";\r\n\r\n// 常量信息\r\nexport default class Const {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    // 工具栏样式\r\n    static get STYLEOFTOOLBAR() {\r\n        return {\r\n            height: 37,\r\n            lineWidth: 1,\r\n        }\r\n    }\r\n    \r\n    // 左侧生产线栏样式\r\n    static get STYLEOFPRODUCTLINESBAR() {\r\n        return {\r\n            height: 49,\r\n            width: 124,\r\n            lineWidth: 1,\r\n        }\r\n    }\r\n\r\n    // 静态 getter\r\n    // 底层画布单元格子样式\r\n    static get STYLEOFCELL() {\r\n        return {\r\n            width: 22,\r\n            height: 34,\r\n            lineWidth: 1,\r\n            borderColor: \"#ddd\",\r\n            activedBackgroundColor: \"#fffaf2\"\r\n        }\r\n    }\r\n\r\n    // 进度条样式\r\n    static get STYLEOFPROGRESSBAR() {\r\n        return {\r\n            top: 3,\r\n            height: 30,\r\n            lineWidth: 1,\r\n            fontStyle: \"14px Arial\",\r\n            paddingLeft: 4\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/const.js","<template>\r\n    <div id=\"productLineBar-component\">\r\n        <!-- 生产线 -->\r\n        <div class=\"productLines zIndexSuper\" ref=\"productLinesBarHook\" v-bind:style=\"styleOfProductLinesClass\">\r\n            <div class=\"title\" v-bind:style=\"styleOfTitleClass\">\r\n                生产线\r\n            </div>\r\n            <div class=\"productLinesHook\" v-bind:style=\"styleOfProductLinesHook\">\r\n                <div class=\"productLine\" v-for=\"(item, index) in productLineList\" v-bind:key=\"index\">\r\n                    {{item.fullName}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CONST from \"../../common/const\";\r\n\r\nexport default {\r\n    props: ['productLineList'],\r\n    data: function() {\r\n        return {\r\n            \r\n        }\r\n    },\r\n    computed: {\r\n        //  CSS 样式\r\n        styleOfProductLinesClass: function() {\r\n            return this.$store.state.cssAboutScroll.styleOfProductLinesClass;\r\n        },\r\n        // CSS 样式\r\n        styleOfTitleClass: function() {\r\n            return {\r\n                position: \"fixed\",\r\n                top: (CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFTOOLBAR.lineWidth) + \"px\",\r\n                left: \"0px\",\r\n                height: CONST.STYLEOFPRODUCTLINESBAR.height + \"px\",\r\n                lineHeight: CONST.STYLEOFPRODUCTLINESBAR.height + \"px\",\r\n                width: CONST.STYLEOFPRODUCTLINESBAR.width + \"px\"\r\n            }\r\n        },\r\n        styleOfProductLinesHook: function() {\r\n            return {\r\n                marginTop: CONST.STYLEOFPRODUCTLINESBAR.height + \"px\"\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        \"scrollDirection\": function() {\r\n            console.log(345)\r\n        }\r\n    },\r\n    created: function() {\r\n        var that = this;\r\n/*         this.$nextTick(() => {\r\n            var productLineBarDom = that.$refs.productLinesBarHook;\r\n            window.onscroll = function(e) {\r\n                var scrollDirection = that.getDetailOfScroll();\r\n                if (scrollDirection == 'DOWN' || scrollDirection == 'UP') {\r\n                    productLineBarDom.style.position = \"absolute\";\r\n                    productLineBarDom.style.top = CONST.STYLEOFTOOLBAR.height + \"px\";\r\n                    productLineBarDom.style.left = window.pageXOffset + \"px\";\r\n                } else if (scrollDirection == \"Left\" || scrollDirection == \"RIGHT\") {\r\n                    productLineBarDom.style.position = \"fixed\";\r\n                    productLineBarDom.style.left = \"0px\";\r\n                    productLineBarDom.style.top = CONST.STYLEOFTOOLBAR.height - window.pageYOffset + \"px\";\r\n                }\r\n            }\r\n        }) */\r\n    },\r\n    methods: {\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.productLineBar-component {\r\n\r\n}\r\n.productLines {    \r\n    position: absolute;\r\n    left: 0px;\r\n\tdisplay: inline-block;\r\n\tvertical-align: top;\r\n}\r\n\r\n.productLines .title {\r\n\tbox-sizing: border-box;\r\n\ttext-align: center;\r\n\tfont-size: 12px;\r\n\tborder: 1px solid #ddd;\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.productLines .productLine {\r\n\tbox-sizing: border-box;\r\n\tpadding: 0 1em;\r\n\theight: 36px;\r\n\tline-height: 36px;\r\n\tfont-size: 12px;\r\n\ttext-align: center;\r\n\tborder: 1px solid #ddd;\r\n\tborder-top: none;\r\n\tbackground-color: #fff;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/productLineBar/productLineBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"productLineBar-component\"}},[_c('div',{ref:\"productLinesBarHook\",staticClass:\"productLines zIndexSuper\",style:(_vm.styleOfProductLinesClass)},[_c('div',{staticClass:\"title\",style:(_vm.styleOfTitleClass)},[_vm._v(\"\\n            生产线\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"productLinesHook\",style:(_vm.styleOfProductLinesHook)},_vm._l((_vm.productLineList),function(item,index){return _c('div',{key:index,staticClass:\"productLine\"},[_vm._v(\"\\n                \"+_vm._s(item.fullName)+\"\\n            \")])}),0)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62aee5dc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/productLineBar/productLineBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62aee5dc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./productLineBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productLineBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./productLineBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62aee5dc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./productLineBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62aee5dc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/productLineBar/productLineBar.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"dateBar-component\">\r\n        <!-- 日期标题 -->\r\n        <div class=\"months zIndexTop\" ref=\"monthsHook\" v-bind:style=\"styleOfMonthsClass\">\r\n            <div v-for=\"(yearandmonth, index) in monthListOfShow\" v-bind:key=\"index\" class=\"month\">\r\n                <div class=\"monthTxt\">\r\n                    {{yearandmonth}}\r\n                </div>\r\n                <div class=\"singleItem\" v-for=\"(day, index2) in getDays(yearandmonth)\" v-bind:key=\"index2\" v-bind:class=\"{weekend:isHoliday(yearandmonth, day)}\">\r\n                    {{day}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DateUtil from \"../../common/dateUtil\";\r\nimport CONST from \"../../common/const\";\r\n\r\nexport default {\r\n    data: function() {\r\n        return {\r\n\t\t\tmonthListOfShow: DateUtil.monthListOfShow\r\n        }\r\n\t},\r\n\tcomputed: {\r\n\t\t// css样式\r\n\t\tstyleOfMonthsClass: function() {\r\n\t\t\treturn this.$store.state.cssAboutScroll.styleOfMonthsClass;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 获取某年某月的总天数\r\n\t\tgetDays: function(yearandmonth) {\r\n            var year = yearandmonth.split(\"-\")[0];\r\n            var month = yearandmonth.split(\"-\")[1];\r\n\t\t\treturn DateUtil.getDayCountOfMonth(year, month);\r\n\t\t},\r\n\t\t// 是否周末\r\n\t\tisHoliday: function(yearandmonth, day) {\r\n            var year = yearandmonth.split(\"-\")[0];\r\n\t\t\tvar month = yearandmonth.split(\"-\")[1];\r\n\t\t\treturn this.$store.state.factoryCalendarObj.isHoliday(DateUtil.strToTimeStamp(year + \"-\" + month + \"-\" + day));\r\n\t\t}\r\n\t},\r\n\tcreated: function() {\r\n\t\t\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.months {\r\n\tposition: absolute;\r\n\tbox-sizing: border-box;\r\n\tdisplay: inline-block;\r\n\twhite-space: nowrap;\r\n\tborder-right: 1px solid #ddd;\r\n\tbackground-color: #fff;\r\n    border-bottom: 1px solid #ddd;\r\n}\r\n.months .month {\r\n\tdisplay: inline-block;\r\n}\r\n.monthTxt {\r\n\tbox-sizing: border-box;\r\n\theight: 24px;\r\n\tline-height: 24px;\r\n\ttext-align: center;\r\n\tfont-size: 12px;\r\n\tborder: 1px solid #ddd;\r\n\tborder-bottom: none;\r\n\tborder-right: none;\r\n}\r\n.singleItem {\r\n\tbox-sizing: border-box;\r\n\tdisplay: inline-block;\r\n\twidth: 24px;\r\n\theight: 24px;\r\n\tline-height: 24px;\r\n\ttext-align: center;\r\n\tfont-size: 12px;\r\n\tborder: 1px solid #ddd;\r\n\tborder-right: none;\r\n\tborder-bottom: none\r\n}\r\n.weekend {\r\n\tbackground-color: #fffaf2\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/dateBar/dateBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dateBar-component\"},[_c('div',{ref:\"monthsHook\",staticClass:\"months zIndexTop\",style:(_vm.styleOfMonthsClass)},_vm._l((_vm.monthListOfShow),function(yearandmonth,index){return _c('div',{key:index,staticClass:\"month\"},[_c('div',{staticClass:\"monthTxt\"},[_vm._v(\"\\n                \"+_vm._s(yearandmonth)+\"\\n            \")]),_vm._v(\" \"),_vm._l((_vm.getDays(yearandmonth)),function(day,index2){return _c('div',{key:index2,staticClass:\"singleItem\",class:{weekend:_vm.isHoliday(yearandmonth, day)}},[_vm._v(\"\\n                \"+_vm._s(day)+\"\\n            \")])})],2)}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-54c49d17\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/dateBar/dateBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-54c49d17\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./dateBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dateBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./dateBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-54c49d17\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./dateBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-54c49d17\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/dateBar/dateBar.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"backgroundCanvas-component\" v-bind:style=\"{top: msgOfCanvas.top, left: msgOfCanvas.left}\">\r\n        <!-- 画布必须设置 长与宽，注意不是 css 中的长与宽-->\r\n        <canvas class=\"background\" ref=\"background\" v-bind:width=\"msgOfCanvas.width\" v-bind:height=\"msgOfCanvas.height\"></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DateUtil from \"../../common/dateUtil\";\r\nimport CONST from \"../../common/const\";\r\n\r\nexport default {\r\n    props: ['countOfProductLines'],\r\n    data: function() {\r\n        return {\r\n            dayCountOfShow: DateUtil.dayCountOfShow\r\n        }\r\n    },\r\n    computed: {\r\n        msgOfCanvas: function() {\r\n            return {\r\n                width: this.dayCountOfShow * (CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth),\r\n                height: this.countOfProductLines * (CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth) + CONST.STYLEOFCELL.lineWidth,\r\n                top: CONST.STYLEOFPRODUCTLINESBAR.height + CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFPRODUCTLINESBAR.lineWidth - CONST.STYLEOFTOOLBAR.lineWidth + \"px\",\r\n                left: CONST.STYLEOFPRODUCTLINESBAR.width - CONST.STYLEOFPRODUCTLINESBAR.lineWidth + \"px\"\r\n            }\r\n        }\r\n    },\r\n    // 挂载\r\n    mounted: function() {\r\n        // 画布渲染\r\n        var backgroundDom = this.$refs.background;\r\n        var ctx = backgroundDom.getContext(\"2d\");//设置2D渲染区\r\n        ctx.lineWidth = CONST.STYLEOFCELL.lineWidth; //设置线的宽度\r\n        ctx.strokeStyle = CONST.STYLEOFCELL.borderColor;\r\n        ctx.fillStyle = CONST.STYLEOFCELL.activedBackgroundColor;\r\n        var dayCountOfShow = this.dayCountOfShow;\r\n        var countOfProductLines = this.countOfProductLines;\r\n        for (var n=0; n<countOfProductLines; n++) {\r\n            for (var m=0; m<dayCountOfShow; m++) {\r\n                if (this.$store.state.factoryCalendarObj.isHoliday(DateUtil.indexToDateStr(m))) {\r\n                    ctx.fillRect(m*(CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth)+0.5, n*(CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth)+0.5, (CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth), (CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth))\r\n                }\r\n                ctx.strokeRect(m*(CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth)+0.5, n*(CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth)+0.5, (CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth), (CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth))\r\n\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.backgroundCanvas-component {\r\n    position: absolute;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/backgroundCanvas/backgroundCanvas.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"backgroundCanvas-component\",style:({top: _vm.msgOfCanvas.top, left: _vm.msgOfCanvas.left})},[_c('canvas',{ref:\"background\",staticClass:\"background\",attrs:{\"width\":_vm.msgOfCanvas.width,\"height\":_vm.msgOfCanvas.height}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d35f3d0e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/backgroundCanvas/backgroundCanvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d35f3d0e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./backgroundCanvas.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./backgroundCanvas.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./backgroundCanvas.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d35f3d0e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./backgroundCanvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d35f3d0e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/backgroundCanvas/backgroundCanvas.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"progressBarCanvas-component\" v-bind:style=\"{top: msgOfCanvas.top + 'px', left: msgOfCanvas.left + 'px'}\">\r\n        <!-- 源画布 -->\r\n        <canvas \r\n            class=\"sourceCanvas\"\r\n            ref=\"sourceCanvas\"\r\n            v-bind:width=\"msgOfCanvas.width\"\r\n            v-bind:height=\"msgOfCanvas.height\"\r\n            @mousedown=\"mousedownOfSourceCanvas($event)\"\r\n            @mousemove=\"mousemoveOfSourceCavnas($event)\"\r\n        ></canvas>\r\n        <!-- 移动画布 -->\r\n        <canvas\r\n            v-show=\"isShowCtxOfTmp\"\r\n            class=\"tempCanvas zIndexTop\"\r\n            ref=\"tempCanvas\"\r\n            v-bind:width=\"msgOfCanvas.width\"\r\n            v-bind:height=\"msgOfCanvas.height\"\r\n            @mousemove=\"mousemoveOfTempCanvas($event)\"\r\n            @mouseup=\"mouseupOfTempCanvas($event)\"\r\n        ></canvas>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CONST from \"../../common/const\";\r\nimport DateUtil from \"../../common/dateUtil\";\r\nimport StrUtil from \"../../common/strUtil\";\r\nimport M2V from \"../../common/M2V\";\r\nimport V2M from \"../../common/V2M\";\r\n\r\nvar tOfMouseHoverOfSourceCanvas; // 源画布悬浮计时器\r\n\r\nexport default {\r\n    props: [\r\n        'productLineList', // 生产线个数\r\n        ''\r\n    ],\r\n    data: function() {\r\n        return {\r\n            factoryCalendar: null, // 工厂日历\r\n            dayCountOfShow: DateUtil.dayCountOfShow, // 显示总天数\r\n            ctxOfSource: null, // 源画布的上下文\r\n            ctxOfTemp: null, // 移动画布的上下文\r\n            beforeProductLineIndex: null, // 激活进度条的原来生产线的索引\r\n            afterProductLineIndex: null, // 激活进度条移动后的生产线索引\r\n            \r\n        }\r\n    },\r\n    computed: {\r\n        // 画布位置，大小信息\r\n        msgOfCanvas: function() {\r\n            return {\r\n                width: this.dayCountOfShow * (CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth),\r\n                height: this.productLineList.length * (CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth) + CONST.STYLEOFCELL.lineWidth,\r\n                top: CONST.STYLEOFPRODUCTLINESBAR.height + CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFPRODUCTLINESBAR.lineWidth - CONST.STYLEOFTOOLBAR.lineWidth,\r\n                left: CONST.STYLEOFPRODUCTLINESBAR.width - CONST.STYLEOFPRODUCTLINESBAR.lineWidth\r\n            }\r\n        },\r\n        // 是否显示移动画布\r\n        isShowCtxOfTmp: function() {\r\n            return this.$store.state.isShowCtxOfTmp;\r\n        }\r\n    },\r\n    mounted: function() {\r\n        // 画布渲染\r\n        var sourceCanvas = this.$refs.sourceCanvas;\r\n        var ctxOfSource = sourceCanvas.getContext(\"2d\"); //设置2D渲染区\r\n        var tempCanvas = this.$refs.tempCanvas;\r\n        var ctxOfTemp = tempCanvas.getContext(\"2d\");\r\n        this.$store.commit('setCtxOfSource', ctxOfSource);\r\n        this.ctxOfSource = ctxOfSource;\r\n        this.$store.commit('setCtxOfTemp', ctxOfTemp);\r\n        this.ctxOfTemp = ctxOfTemp;\r\n        this.productLineList.forEach((item) => {\r\n            item.getProgressList.forEach((progressBar) => {\r\n                progressBar.render(this.ctxOfSource);\r\n            });\r\n        });\r\n    },\r\n    created: function() {\r\n        this.factoryCalendar = this.$store.state.factoryCalendarObj;\r\n    },\r\n    methods: {\r\n        /*\r\n            源数据画布事件\r\n        */\r\n        // 在源数据画布中点击\r\n        mousedownOfSourceCanvas: function(e) {\r\n            var that = this;\r\n            // 获取当前激活的进度条\r\n            var progressBar =this.getProgressBarByXY(e);\r\n            if (progressBar == null) {\r\n                return;\r\n            }\r\n            \r\n            this.beforeProductLineIndex = progressBar.getProductLineIndex;\r\n            this.$store.commit(\"toggleIsShowCtxOfTmp\");\r\n\r\n            // 清除源画布\r\n            this.productLineList[progressBar.getProductLineIndex].clear(this.ctxOfSource);\r\n            this.productLineList[progressBar.getProductLineIndex].renderWithOutIdList(this.ctxOfSource, [progressBar.getId]);\r\n\r\n            // 渲染移动画布\r\n            progressBar.render(this.ctxOfTemp);\r\n            this.$store.commit(\"setActivedProgressBar\", progressBar);\r\n        },\r\n        // 在源数据画布移动\r\n        mousemoveOfSourceCavnas: function(e) {\r\n            clearTimeout(tOfMouseHoverOfSourceCanvas);\r\n            var that = this;\r\n            var x = e.clientX - this.msgOfCanvas.left + window.pageXOffset;\r\n            var y = e.clientY - this.msgOfCanvas.top + window.pageYOffset;\r\n            tOfMouseHoverOfSourceCanvas = setTimeout(() => {that.getProgressBarByXY(e)}, 500);\r\n        },\r\n\r\n        /*\r\n            临时画布绑定事件\r\n        */\r\n        // 鼠标拖动\r\n        mousemoveOfTempCanvas: function(e) {\r\n            var activedProgressBar = this.$store.state.activedProgressBar;\r\n            var totalWidth = this.msgOfCanvas.width + CONST.STYLEOFPRODUCTLINESBAR.width; // 整个排产器的总宽度\r\n            var totalHeight = this.msgOfCanvas.height + this.msgOfCanvas.top; // 整个排产器的总高度\r\n            var widthOfWindow = document.body.clientWidth; // 浏览器窗口的宽度\r\n            var heightOfWindow = document.body.clientHeight; // 浏览器窗口的长度\r\n            \r\n            /**\r\n             * 拖动时的自行滚动\r\n             */\r\n            // 左右移动\r\n            // 拖动时，鼠标的位置在最右侧的四个单元格之类\r\n            if (widthOfWindow - e.clientX < (4*CONST.STYLEOFCELL.width)) {\r\n                // 滚动条离最右的差值\r\n                var differenceX = totalWidth - (window.pageXOffset + widthOfWindow);\r\n                // 且滚动条还能向右滚动 50 px\r\n                if (differenceX > 50) {\r\n                    window.scroll(window.pageXOffset + 50, window.pageYOffset);\r\n                }\r\n                // 已经不能在向右移动 50 px，但还有多余数值，所以默认移动到最右\r\n                else if (0<differenceX && differenceX <= 50) {\r\n                    window.scroll(totalWidth - widthOfWindow, window.pageYOffset);\r\n                }\r\n            } \r\n            // 拖动时，鼠标的位置在最左的两个单元格之类\r\n            else if (e.clientX < (2*CONST.STYLEOFCELL.width + CONST.STYLEOFPRODUCTLINESBAR.width)) {\r\n                // 滚动条还能向左滚动 50 px\r\n                if (window.pageXOffset > 50) {\r\n                    window.scroll(window.pageXOffset - 50, window.pageYOffset);\r\n                }\r\n                // 已经不能在向左移动 50 px，但还有多余数值，所以默认移动到最左\r\n                else if (0<window.pageXOffset && window.pageXOffset <= 50) {\r\n                    window.scroll(0, window.pageYOffset);\r\n                }\r\n            }\r\n            // 上下移动\r\n            // 拖动时，鼠标的位置在最底侧的四个单元格之类\r\n            if (heightOfWindow - e.clientY < (4*CONST.STYLEOFCELL.height)) {\r\n                // 滚动条离最底侧的差值\r\n                var differenceY = totalHeight - (window.pageYOffset + heightOfWindow);\r\n                // 且滚动条还能向下滚动 50 px\r\n                if (differenceY > 50) {\r\n                    window.scroll(window.pageXOffset, window.pageYOffset + 50);\r\n                }\r\n                // 已经不能在向下移动 50 px，但还有多余数值，所以默认移动到最低\r\n                else if (0<differenceY && differenceY <= 50) {\r\n                    window.scroll(window.pageXOffset, totalHeight - heightOfWindow);\r\n                }\r\n            }\r\n            // 拖动时，鼠标的位置在最上的两个单元格之类\r\n            else if (e.clientY < (2*CONST.STYLEOFCELL.height + this.msgOfCanvas.top)) {\r\n\r\n                // 滚动条还能向上移动 50 px\r\n                if (window.pageYOffset > 50) {\r\n                    window.scroll(window.pageXOffset, window.pageYOffset - 50);\r\n                }\r\n                // 已经不能在向上移动 50 px，但还有多余数值，所以默认移动到最上\r\n                else if (0<window.pageYOffset && window.pageYOffset <= 50) {\r\n                    window.scroll(window.pageXOffset, 0);\r\n                }\r\n            }\r\n\r\n            // 移动渲染图层\r\n            var x = e.clientX - this.msgOfCanvas.left + window.pageXOffset;\r\n            var y = e.clientY - this.msgOfCanvas.top + window.pageYOffset;\r\n            activedProgressBar.move(this.ctxOfTemp, x, y);\r\n        },\r\n        // 松开鼠标键\r\n        mouseupOfTempCanvas: function(e) {\r\n            var that = this;\r\n            var activedProgressBar = this.$store.state.activedProgressBar;\r\n            var productLineList = this.productLineList;\r\n\r\n            // 记录鼠标坐标\r\n            var x = e.clientX - this.msgOfCanvas.left + window.pageXOffset;\r\n            var y = e.clientY - this.msgOfCanvas.top + window.pageYOffset;\r\n            this.afterProductLineIndex = V2M.yToProductLineIndex(productLineList, y); // 移动后所在生产线的索引\r\n            var activedProductLine = productLineList[this.afterProductLineIndex]; // 移动后所在的生产线\r\n            var beforeProductLine = null; // 移动前所在的生产线\r\n            // 如果不是新增的进度条\r\n            if (activedProgressBar.getProductLineIndex != null) {\r\n                beforeProductLine = productLineList[this.beforeProductLineIndex];\r\n            }\r\n\r\n            var startTimeStamp = V2M.xToTimeStamp(x); // 开启时间戳\r\n            console.log(\"鼠标松开按键时的所在生产生产线：\" + activedProductLine.fullName);\r\n            // console.log(\"鼠标松开按键后的激活进度条开启时间：\" + DateUtil.timeStampToDate(V2M.xToTimeStamp(x)));\r\n\r\n            // 清空临时画布，及隐藏它\r\n            this.ctxOfTemp.clearRect(0, 0, this.ctxOfTemp.canvas.offsetWidth, this.ctxOfTemp.canvas.offsetHeight);\r\n            this.$store.commit(\"toggleIsShowCtxOfTmp\");\r\n            \r\n            // 生产线没有对应的效率\r\n            if (activedProductLine.getEfficiency(activedProgressBar.getProductStyleName) == null) {\r\n                this.showToast(\"生产线没有相对弈的效率\", null);\r\n\r\n                // 还原进度条\r\n                if (beforeProductLine) {\r\n                    beforeProductLine.clear(this.ctxOfSource);\r\n                    beforeProductLine.renderWithOutIdList(this.ctxOfSource, null);\r\n                }\r\n                return;\r\n            }\r\n\r\n            // TODO 记录重做\r\n\r\n            // 源生产线删除移动进度条的数据，如果\r\n            if (beforeProductLine) {\r\n                beforeProductLine.removeProgressById(activedProgressBar.getId);\r\n            }\r\n\r\n            // 设置数据\r\n\r\n            // 松开鼠标后，激活进度条的初步更新数据，初步渲染\r\n            activedProgressBar.reload(activedProductLine, this.factoryCalendar, startTimeStamp);\r\n            console.log(DateUtil.timeStampToDate(activedProgressBar.getStartTime))\r\n            console.log(DateUtil.timeStampToDate(activedProgressBar.getEndTime))\r\n\r\n            // 移动后，激活进度条移出了原来的生产线\r\n            if (this.beforeProductLineIndex != this.afterProductLineIndex) {\r\n                console.log(\"进度条移出了原来的生产线\");\r\n            }\r\n            else {\r\n            // 移动后，激活进度条没有移出原来的生产线\r\n                console.log(\"进度条没有移出原来的生产线\");\r\n            }\r\n            // 生产线重新数据，并渲染图层\r\n            activedProductLine.clear(this.ctxOfSource); // 清空图层\r\n            activedProductLine.addProgress(activedProgressBar, this.factoryCalendar); // 激活生产线添加进度条\r\n            activedProductLine.renderWithOutIdList(this.ctxOfSource, null); // 渲染\r\n            console.log(activedProductLine.getProgressList);\r\n        },\r\n        // 在数据画布悬浮，获取对应的激活的进度条\r\n        getProgressBarByXY: function(e) {\r\n            var x = e.clientX - this.msgOfCanvas.left + window.pageXOffset;\r\n            var y = e.clientY - this.msgOfCanvas.top + window.pageYOffset;\r\n            // 获取当前激活生产线\r\n            var productLineIndex = V2M.yToProductLineIndex(this.productLineList, y);\r\n            var progressBarList = this.productLineList[productLineIndex].getProgressList;\r\n            // 循环当前激活的生产线的进度条，检测是否在点击范围内\r\n            for (var progressIndex=0; progressIndex<progressBarList.length; progressIndex++) {\r\n                if (progressBarList[progressIndex].isInArea(x, y)) {\r\n                    return progressBarList[progressIndex];\r\n                }\r\n            }\r\n            // 循环完都没有，返回 null\r\n            return null;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.progressBarCanvas-component {\r\n    position: absolute;\r\n}\r\n.sourceCanvas {\r\n\r\n}\r\n.tempCanvas {\r\n    position: absolute;\r\n    top: 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/progressBarCanvas/progressBarCanvas.vue","// 字符串工具\r\nexport default class StrUtil {\r\n    \r\n    constructor() {\r\n\r\n    }\r\n\r\n    /**\r\n     * 数字添加 “px”\r\n     * @param {*} str 数字\r\n     */\r\n    static takeOffPX(str) {\r\n        return str.split(\"px\")[0];\r\n    }\r\n\r\n    /**\r\n     * 小数转化为百分比\r\n     * @param {*} decimal 小数\r\n     */\r\n    static decimalToPercent(decimal) {\r\n        return (decimal*100).toFixed(0) + \"%\";\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/strUtil.js","import DateUtil from \"./dateUtil\";\r\nimport CONST from \"./const\";\r\n\r\n// 数据模型映射视图\r\nexport default class M2V {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * 时间戳转化为 x 坐标\r\n     * @param {*} timeStamp 时间戳 \r\n     */\r\n    static timeStampToX(timeStamp) {\r\n        var firstTimeStamp = DateUtil.firstTimeStampOfShow;\r\n        var timeStampTmpl = timeStamp - firstTimeStamp;\r\n        var dayCount =  Math.floor(timeStampTmpl / DateUtil.timeStampOfOneDay);\r\n        var residueTimeStamp = timeStampTmpl - dayCount*DateUtil.timeStampOfOneDay; // 剩余的时间戳\r\n        var percent = Number((residueTimeStamp / DateUtil.timeStampOfOneDay).toFixed(1)); // 剩余的时间戳占一天的百分比\r\n        return Math.floor(dayCount*(CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth) + percent*CONST.STYLEOFCELL.width);\r\n    }\r\n\r\n    /**\r\n     * 两个时间戳之间的差值转为 宽度\r\n     * @param {*} startTime 开始时间戳\r\n     * @param {*} endTime 结束时间戳\r\n     */\r\n    static differenceTimeStampToWidth(startTime, endTime) {\r\n        return M2V.timeStampToX(endTime) - M2V.timeStampToX(startTime);\r\n    }\r\n    \r\n    /**\r\n     * 排产进度条通过生产线索引转为 y 坐标\r\n     * @param {*} productLineIndex 生产线索引\r\n     */\r\n    static productLineIndexToY(productLineIndex) {\r\n        var top = productLineIndex * (CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth);\r\n        return (top + CONST.STYLEOFPROGRESSBAR.top);\r\n    }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/M2V.js","import DateUtil from \"./dateUtil\";\r\nimport CONST from \"./const\";\r\n\r\n// 视图映射到数据模型\r\nexport default class V2M {\r\n    \r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * 纵坐标返回生产线列表索引\r\n     * @param {*} productLineList 生产线列表 \r\n     * @param {*} y y 坐标\r\n     */\r\n    static yToProductLineIndex(productLineList, y) {\r\n        var index = Math.ceil(y / (CONST.STYLEOFCELL.height + 2*CONST.STYLEOFCELL.lineWidth));\r\n        var length = productLineList.length;\r\n        if (length >= index) {\r\n            return index - 1;\r\n        } else {\r\n            return length - 1;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 纵坐标返回生产线\r\n     * @param {*} productLineList 生产线列表 \r\n     * @param {*} y y 坐标\r\n     */\r\n    static yToProductLine(productLineList, y) {\r\n        return productLineList[V2M.yToProductLineIndex(productLineList, y)];\r\n    }\r\n\r\n    /**\r\n     * 横坐标返回对应的日期\r\n     * @param {*} x x 坐标\r\n     */\r\n    static xToTimeStamp(x) {\r\n        var firstTimeStamp = DateUtil.firstTimeStampOfShow;\r\n        var index = Math.floor(x / (CONST.STYLEOFCELL.width + 2*CONST.STYLEOFCELL.lineWidth));\r\n        return firstTimeStamp + index * DateUtil.timeStampOfOneDay;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/V2M.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progressBarCanvas-component\",style:({top: _vm.msgOfCanvas.top + 'px', left: _vm.msgOfCanvas.left + 'px'})},[_c('canvas',{ref:\"sourceCanvas\",staticClass:\"sourceCanvas\",attrs:{\"width\":_vm.msgOfCanvas.width,\"height\":_vm.msgOfCanvas.height},on:{\"mousedown\":function($event){return _vm.mousedownOfSourceCanvas($event)},\"mousemove\":function($event){return _vm.mousemoveOfSourceCavnas($event)}}}),_vm._v(\" \"),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowCtxOfTmp),expression:\"isShowCtxOfTmp\"}],ref:\"tempCanvas\",staticClass:\"tempCanvas zIndexTop\",attrs:{\"width\":_vm.msgOfCanvas.width,\"height\":_vm.msgOfCanvas.height},on:{\"mousemove\":function($event){return _vm.mousemoveOfTempCanvas($event)},\"mouseup\":function($event){return _vm.mouseupOfTempCanvas($event)}}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a0f7cda\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/progressBarCanvas/progressBarCanvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a0f7cda\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./progressBarCanvas.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressBarCanvas.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./progressBarCanvas.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a0f7cda\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./progressBarCanvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a0f7cda\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/progressBarCanvas/progressBarCanvas.vue\n// module id = null\n// module chunks = ","import DateUtil from \"../common/dateUtil\";\r\nimport CONST from \"../common/const\";\r\nimport M2V from \"../common/M2V\";\r\nimport StrUtil from \"../common/strUtil\";\r\nimport Const from \"../common/const\";\r\n\r\n// 进度条类\r\nexport default class ProgressBar {\r\n\r\n    constructor(productLineIndex, productionlineId, msgOfProgressBar) {\r\n        this.productLineIndex = productLineIndex; // 所在生产线索引\r\n        this.productionlineId = productionlineId; // 所在生产线生产线ID\r\n        this.id = msgOfProgressBar.id; // 进度条 ID\r\n        this.qtyFinish = msgOfProgressBar.qtyFinish; // 完成数量\r\n        this.sam = msgOfProgressBar.sam; // sam\r\n        this.qtyofbatcheddelivery = msgOfProgressBar.qtyofbatcheddelivery; // 计划数量\r\n        this.efficiencyOfClass = msgOfProgressBar.efficiencyOfClass; // 产品效率\r\n        this.productStyleName = msgOfProgressBar.productStyleName; // 品类\r\n        this.startTime = msgOfProgressBar.startTime; // 开始时间\r\n        this.endTime = msgOfProgressBar.endTime; // 结束时间\r\n        this.msgOfProgressBar = msgOfProgressBar; // 排产进度条详情\r\n\r\n        this.needWorkDayCount = null; // 在当前生产线内需要多少个工作日完成\r\n    }\r\n\r\n    // 获取 进度条 Id\r\n    get getId() {\r\n        return this.id;\r\n    }\r\n\r\n    // 获取产品类名\r\n    get getProductStyleName() {\r\n        return this.productStyleName;\r\n    }\r\n\r\n    // 获取开启时间\r\n    get getStartTime() {\r\n        return this.startTime;\r\n    }\r\n\r\n    // 获取结束时间\r\n    get getEndTime() {\r\n        return this.endTime;\r\n    }\r\n\r\n    // 获取进度条所在生产线的索引\r\n    get getProductLineIndex() {\r\n        return this.productLineIndex;\r\n    }\r\n\r\n    // 获取详情信息\r\n    get getMsgOfProgressBar() {\r\n        return this.msgOfProgressBar;\r\n    }\r\n\r\n    // 获取工作量百分比\r\n    get getPercentOfQuantityOfWork() {\r\n        /* console.log(this.qtyFinish + \"/\" + this.qtyofbatcheddelivery); */\r\n        return Number((this.qtyFinish / this.qtyofbatcheddelivery).toFixed(2));\r\n    }\r\n\r\n    // 获取 css 样式\r\n    get msgOfCSS() {\r\n        return {\r\n            width: M2V.differenceTimeStampToWidth(this.startTime, this.endTime),\r\n            top: M2V.productLineIndexToY(this.productLineIndex),\r\n            left: M2V.timeStampToX(this.startTime),\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 重置进度条的生产线、工厂日历属性、开始时间，从而更新数据\r\n     * @param {*} productLine 生产线实例\r\n     * @param {*} factoryCalendar 工厂日历实例\r\n     * @param {*} startTime 开始时间\r\n     */\r\n    reload(productLine, factoryCalendar, startTime) {\r\n        this.startTime = startTime;\r\n        this.setEndTime(productLine, factoryCalendar, startTime);\r\n        this.productionlineId = productLine.getId;\r\n        this.productLineIndex = productLine.getIndex;\r\n    }\r\n\r\n    /**\r\n     * 给予进度条的生产线、工厂日历属性、开始时间，从而更新结束时间\r\n     * @param {*} productLine \r\n     * @param {*} factoryCalendar \r\n     * @param {*} startTime \r\n     */\r\n    setEndTime(productLine, factoryCalendar, startTime) {\r\n        var effficiencyOfProductionLine = productLine.getEfficiency(this.productStyleName);\r\n        if (effficiencyOfProductionLine == null) {\r\n            return null;\r\n        }\r\n        var peopleNum = productLine.getPeopleNumByDate(startTime);\r\n        var workHours = productLine.getWorkHoursByDate(startTime);\r\n        // 需要天数\r\n        var dayCount = (this.efficiencyOfClass*((this.qtyofbatcheddelivery - this.qtyFinish)*this.sam/60)*effficiencyOfProductionLine)/(peopleNum*workHours);\r\n        console.log(\"(\" + this.efficiencyOfClass + \"*((\" + this.qtyofbatcheddelivery + \"-\" + this.qtyFinish + \")*\" + this.sam + \"/60)*\" + effficiencyOfProductionLine + \")/(\" + peopleNum + \"*\" + workHours + \") = \" + dayCount);\r\n        // 结合节假日，设置结束时间\r\n        var endTime = startTime + Math.ceil(dayCount*DateUtil.timeStampOfOneDay);\r\n        endTime = factoryCalendar.getEndTime(startTime, endTime);\r\n        this.endTime = endTime;\r\n    }\r\n\r\n    /**\r\n     * 给予 x,y 坐标，检测是否在该进度条范围内\r\n     * @param {*} x x 坐标\r\n     * @param {*} y y 坐标\r\n     */\r\n    isInArea(x, y) {\r\n        // 检查 x 轴\r\n        if (this.msgOfCSS.left <= x && x <= (this.msgOfCSS.width + this.msgOfCSS.left)) {\r\n            // 检查 y 轴\r\n            if (this.msgOfCSS.top <= y && y <= (this.msgOfCSS.top + CONST.STYLEOFPROGRESSBAR.height)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 在画布中渲染进度条\r\n     * @param {*} ctx 画布的上下文\r\n     */\r\n    render(ctx) {\r\n        ctx.save();\r\n        var msgOfCSS = this.msgOfCSS;\r\n        ctx.lineWidth = CONST.STYLEOFPROGRESSBAR.lineWidth; //设置线的宽度\r\n        ctx.strokeStyle = '#000';\r\n        var width = msgOfCSS.width;\r\n        if (msgOfCSS.width < 1) {\r\n            width = 1;\r\n        }\r\n        // 移动画布\r\n        ctx.translate(msgOfCSS.left + 0.5, msgOfCSS.top + 0.5);\r\n        // 渲染进度框\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(width, 0);\r\n        ctx.lineTo(width, CONST.STYLEOFPROGRESSBAR.height);\r\n        ctx.lineTo(0, CONST.STYLEOFPROGRESSBAR.height);\r\n        ctx.lineTo(0, 0);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        // 渲染白色背景\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.fillRect(0, 0, width, CONST.STYLEOFPROGRESSBAR.height);\r\n        // 渲染百分比\r\n        ctx.fillStyle = \"#ddd\";\r\n        ctx.fillRect(0, CONST.STYLEOFPROGRESSBAR.height/2 - 0.5, width, CONST.STYLEOFPROGRESSBAR.height/2);\r\n        ctx.fillStyle = \"#3bbf67\";\r\n        ctx.fillRect(0, CONST.STYLEOFPROGRESSBAR.height/2 - 0.5, width*this.getPercentOfQuantityOfWork, CONST.STYLEOFPROGRESSBAR.height/2);\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.font =  CONST.STYLEOFPROGRESSBAR.fontStyle;\r\n        ctx.textBaseline = \"top\";\r\n        ctx.fillText(StrUtil.decimalToPercent(this.getPercentOfQuantityOfWork), CONST.STYLEOFPROGRESSBAR.paddingLeft, CONST.STYLEOFPROGRESSBAR.height/2+Const.STYLEOFPROGRESSBAR.lineWidth, (width - 2*CONST.STYLEOFPROGRESSBAR.paddingLeft));\r\n        // 渲染制单号文本\r\n        ctx.fillStyle = \"#444\";\r\n        ctx.fillText(this.msgOfProgressBar.orderno, CONST.STYLEOFPROGRESSBAR.paddingLeft, CONST.STYLEOFPROGRESSBAR.lineWidth, (width - 2*CONST.STYLEOFPROGRESSBAR.paddingLeft));\r\n        ctx.restore();\r\n        /* ctx.strokeRect(msgOfCSS.left + 0.5, msgOfCSS.top + 0.5, width, CONST.STYLEOFPROGRESSBAR.height); */\r\n        /* console.log(msgOfCSS.top + \",\" + msgOfCSS.left + \",\" + width + \",\" + CONST.STYLEOFPROGRESSBAR.height); */\r\n    }\r\n\r\n    /**\r\n     * 在画布中清空进度条的渲染\r\n     * @param {*} ctx 画布上下文\r\n     */\r\n    clear(ctx) {\r\n        var msgOfCSS = this.msgOfCSS;\r\n        ctx.save();\r\n        ctx.translate(msgOfCSS.left, msgOfCSS.top);\r\n        ctx.clearRect(0, 0, msgOfCSS.width + 2*CONST.STYLEOFPROGRESSBAR.lineWidth, CONST.STYLEOFPROGRESSBAR.height + 2*CONST.STYLEOFPROGRESSBAR.lineWidth);\r\n        ctx.restore();\r\n    }\r\n\r\n    /**\r\n     * 在画布中的移动渲染\r\n     * @param {*} ctx 画布上下文\r\n     * @param {*} x x 坐标\r\n     * @param {*} y y 坐标\r\n     */\r\n    move(ctx, x, y) {\r\n        var msgOfCSS = {};\r\n        // 如果是新增的进度条，则没有开始时间和结束时间\r\n        if (this.msgOfCSS.width == 0) {\r\n            msgOfCSS.width = 5*CONST.STYLEOFCELL.width;\r\n        } else {\r\n            msgOfCSS = this.msgOfCSS;\r\n        }\r\n        // 清除图层\r\n        ctx.save();\r\n        ctx.clearRect(0, 0, ctx.canvas.offsetWidth, ctx.canvas.offsetHeight);\r\n        ctx.lineWidth = CONST.STYLEOFPROGRESSBAR.lineWidth; //设置线的宽度\r\n        ctx.strokeStyle = '#000';\r\n        ctx.translate(x + 0.5, y + 0.5);\r\n        ctx.beginPath(); // 需要重启一个路径，不然还是原来的，路径信息会先保存在内存里面\r\n        ctx.moveTo(0, 0);\r\n        ctx.lineTo(msgOfCSS.width, 0);\r\n        ctx.lineTo(msgOfCSS.width, CONST.STYLEOFPROGRESSBAR.height);\r\n        ctx.lineTo(0, CONST.STYLEOFPROGRESSBAR.height);\r\n        ctx.lineTo(0, 0);\r\n        ctx.stroke();\r\n        ctx.closePath();\r\n        // 渲染白色背景\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.fillRect(0, 0, msgOfCSS.width, CONST.STYLEOFPROGRESSBAR.height);\r\n        // 渲染百分比\r\n        ctx.fillStyle = \"#ddd\";\r\n        ctx.fillRect(0, CONST.STYLEOFPROGRESSBAR.height/2 - 0.5, msgOfCSS.width, CONST.STYLEOFPROGRESSBAR.height/2);\r\n        ctx.fillStyle = \"#3bbf67\";\r\n        ctx.fillRect(0, CONST.STYLEOFPROGRESSBAR.height/2 - 0.5, msgOfCSS.width*this.getPercentOfQuantityOfWork, CONST.STYLEOFPROGRESSBAR.height/2);\r\n        ctx.fillStyle = \"#fff\";\r\n        ctx.font =  CONST.STYLEOFPROGRESSBAR.fontStyle;\r\n        ctx.textBaseline = \"top\";\r\n        ctx.fillText(StrUtil.decimalToPercent(this.getPercentOfQuantityOfWork), CONST.STYLEOFPROGRESSBAR.paddingLeft, CONST.STYLEOFPROGRESSBAR.height/2+Const.STYLEOFPROGRESSBAR.lineWidth, (msgOfCSS.width - 2*CONST.STYLEOFPROGRESSBAR.paddingLeft))\r\n        // 渲染制单号文本\r\n        ctx.fillStyle = \"#444\";\r\n        ctx.fillText(this.msgOfProgressBar.orderno, CONST.STYLEOFPROGRESSBAR.paddingLeft, CONST.STYLEOFPROGRESSBAR.lineWidth, (msgOfCSS.width - 2*CONST.STYLEOFPROGRESSBAR.paddingLeft));\r\n        ctx.restore();\r\n    }\r\n\r\n    /**\r\n     * 静态方法，用于比较两个进度条的关系\r\n     * @param {*} progressBarOfLocal 本地进度条\r\n     * @param {*} progressBarOfCompare 比较进度条\r\n     */\r\n    static getRelationByProgressBar(progressBarOfLocal, progressBarOfCompare) {\r\n        // 比较进度条的 **开启时间** 与本地进度条的发生重叠\r\n        if (progressBarOfLocal.getStartTime <= progressBarOfCompare.getStartTime && progressBarOfLocal.getEndTime >= progressBarOfCompare.getStartTime) {\r\n            return \"CLASH_STARTTIME\";\r\n        }\r\n        // 比较进度条的 ** 结束时间 ** 与本地进度条发生重叠\r\n        else if (progressBarOfLocal.getStartTime <= progressBarOfCompare.getEndTime && progressBarOfLocal.getStartTime >= progressBarOfCompare.getStartTime) {\r\n            return \"CLASH_ENDTIME\";\r\n        }\r\n        // 不重叠，且本地进度条靠前 \r\n        else if (progressBarOfLocal.getEndTime <= progressBarOfCompare.getStartTime) {\r\n            return \"NO_CLASH_LOCAL_EARLY\";\r\n        }\r\n        // 不重叠，且比较进度条靠前\r\n        else if (progressBarOfCompare.getEndTime <= progressBarOfLocal.getStartTime) {\r\n            return \"NO_CLASH_COMPARE_EARLY\";\r\n        }\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vo/progressBar.js","import ProgressBar from \"./progressBar\";\r\n\r\n// 生产线 vo\r\nexport default class ProductLine {\r\n\r\n    constructor(id, index, workgroup, workshop, lineCode, peopleNum, workhours, peopleNumOfLineList, workhoursOfLineList, efficiencyOfLineList) {\r\n        this.id = id; // 生产线 ID\r\n        this.index = index; // 在生产线列表中的索引\r\n        this.workgroup = workgroup; // 组别\r\n        this.workshop = workshop; // 车间\r\n        this.lineCode = lineCode; // 生产线\r\n        this.peopleNum = peopleNum; // 默认人数\r\n        this.workhours = workhours; // 默认工作时间\r\n        this.peopleNumOfLineList = peopleNumOfLineList; // 工作人数列表\r\n        this.workhoursOfLineList = workhoursOfLineList; // 工作时间列表\r\n        this.efficiencyOfLineList = efficiencyOfLineList; // 效率列表\r\n        this.progressList = []; // 该生产线的排产进度条列表\r\n    }\r\n\r\n    // 获取主键\r\n    get getId() {\r\n        return this.id;\r\n    }\r\n\r\n    // 获取生产线索引\r\n    get getIndex() {\r\n        return this.index;\r\n    }\r\n\r\n    // 获取生产线全名\r\n    get fullName() {\r\n        return this.workgroup + \"-\" + this.workshop + \"-\" + this.lineCode;\r\n    }\r\n\r\n    // 获取生产线排产详情信息\r\n    get getProgressList() {\r\n        return this.progressList;\r\n    }\r\n\r\n    /**\r\n     * 设置生产线的排产列表\r\n     * @param {*} progressList 排产列表\r\n     */\r\n    setProgressList(progressList) {\r\n        this.progressList = progressList;\r\n    }\r\n\r\n    /**\r\n     * 根据时间点获取生产线工作人数\r\n     * @param {*} timeStamp 时间点\r\n     */\r\n    getPeopleNumByDate(timeStamp) {\r\n        this.peopleNumOfLineList.forEach((item) => {\r\n            if (item.startTime <= timeStamp && timeStamp <= item.endTime) {\r\n                return item.peopleNum;\r\n            }\r\n        });\r\n        return this.peopleNum;\r\n    }\r\n\r\n    /**\r\n     * 根据时间点获取生产线工作时间\r\n     * @param {*} timeStamp 时间点\r\n     */\r\n    getWorkHoursByDate(timeStamp) {\r\n        this.workhoursOfLineList.forEach((item) => {\r\n            if (item.startTime <= timeStamp && timeStamp <= item.endTime) {\r\n                return item.workhours;\r\n            }\r\n        });\r\n        return this.workhours;\r\n    }\r\n\r\n    // 获取生产线效率\r\n    /**\r\n     * 根据产品类获取效率\r\n     * @param {*} styleName 产品类名\r\n     */\r\n    getEfficiency(styleName) {\r\n        var efficiency = null;\r\n        this.efficiencyOfLineList.forEach((item) => {\r\n            if (item.styleName == styleName) {\r\n                efficiency = item.efficiency;\r\n            }\r\n        });\r\n        return efficiency;\r\n    }\r\n\r\n    /**\r\n     * 根据排产进度条的 id 获取进度条实例\r\n     * @param {*} id \r\n     */\r\n    getProgressById(id) {\r\n        this.progressList.find((item) => {\r\n            return item.id == id;\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 根据排产进度条的 id 获取进度条实例在列表中的索引\r\n     * @param {*} id 进度条的 id\r\n     */\r\n    getProgressIndexById(id) {\r\n        var index = this.progressList.findIndex((item) => {\r\n            return item.id == id;\r\n        });\r\n        return index;\r\n    }\r\n\r\n    /**\r\n     * 根据进度条 id 删除对应的进度条\r\n     * @param {*} id 进度条的 id\r\n     */\r\n    removeProgressById(id) {\r\n        var index = this.getProgressIndexById(id);\r\n        if (index == null) {\r\n            console.log(\"该生产线没有对应 id 的进度条\");\r\n            return;\r\n        }\r\n        this.progressList.splice(index, 1);\r\n    }\r\n\r\n    /**\r\n     * 添加新排产进度条到列表\r\n     * @param {*} progressBarOfInsert 排产进度条实例\r\n     * @param {*} factoryCalendar 工厂日历\r\n     */\r\n    addProgress(progressBarOfInsert, factoryCalendar) {\r\n        var progressBarIndexOfReset = 0; // 用于重置的\r\n        var isInserted = false; // 是否已经插入了进度条\r\n        var progressBarLocal; // 取于本地生产线用于比较的进度条\r\n        var progressBarOfCompare = progressBarOfInsert; // 设置用于比较的进度条\r\n        var relationOfInsert; // 插入进度的状态\r\n        for (var progressBarIndex=0; progressBarIndex<this.progressList.length; progressBarIndex++) {\r\n            // 还没有插入新的进度条\r\n            if (!isInserted) {\r\n                progressBarLocal = this.progressList[progressBarIndex];\r\n                relationOfInsert = ProgressBar.getRelationByProgressBar(progressBarLocal, progressBarOfCompare);\r\n                // 新增的进度条与本地进度条不重叠，且本地进度条靠前\r\n                if (relationOfInsert == \"NO_CLASH_LOCAL_EARLY\") {\r\n                    progressBarIndexOfReset  += 1;\r\n                    continue;\r\n                }\r\n                // 新增的进度条的 **开启时间 ** 与本地进度条的发生重叠\r\n                else if (relationOfInsert == \"CLASH_STARTTIME\") {\r\n                    console.log(\"新增的进度条的 **开启时间** 与本地进度条的发生重叠\");\r\n                    \r\n                    // 循环索引 +1\r\n                    progressBarIndex += 1; \r\n                    // 重置插入进度条的开启时间等信息\r\n                    progressBarOfInsert.reload(this, factoryCalendar, progressBarLocal.getEndTime);\r\n                    this.progressList.splice(progressBarIndex, 0, progressBarOfInsert);\r\n                    isInserted = true; //更新为已插入\r\n                    progressBarLocal = progressBarOfInsert; // 重置本地生产线用于比较的进度条\r\n                }\r\n                // 新增的进度条的 **结束时间 ** 与本地进度条的发生重叠\r\n                else if (relationOfInsert == \"CLASH_ENDTIME\") {\r\n                    console.log(\"新增的进度条的 **结束时间** 与本地进度条的发生重叠\");\r\n\r\n                    // 插入数据，因为新增进度条靠前，所以取代了发生重叠进度条的位置\r\n                    this.progressList.splice(progressBarIndex, 0, progressBarOfInsert);            \r\n                    // 往后进度条的索引都加 1，后续结束会加 1\r\n                    progressBarIndex += 1;\r\n                    // 重置发生重叠的进度条的信息\r\n                    progressBarLocal.reload(this, factoryCalendar, progressBarOfInsert.getEndTime);\r\n                    isInserted = true; //更新为已插入\r\n                }\r\n                // 不发生重叠，且新增的进度条靠前\r\n                else {\r\n                    continue;\r\n                }\r\n            }\r\n            // 新增进度条已经插入\r\n            else {\r\n                // 重置用于比较的进度条，\r\n                progressBarOfCompare = this.progressList[progressBarIndex];\r\n                var relation = ProgressBar.getRelationByProgressBar(progressBarLocal, progressBarOfCompare);\r\n                // 如果不发生重叠，且本地进度条靠前\r\n                if (relation == \"NO_CLASH_LOCAL_EARLY\") {\r\n                    progressBarLocal = progressBarOfCompare; // 重置本地生产线用于比较的进度条\r\n                    continue;\r\n                }\r\n                // 比较进度条的 **开启时间 ** 与本地进度条的发生重叠\r\n                else if (relation == \"CLASH_STARTTIME\") {\r\n                    // 更新发生重叠的数据\r\n                    progressBarOfCompare.reload(this, factoryCalendar, progressBarLocal.getEndTime);\r\n                    progressBarLocal = progressBarOfCompare; // 重置本地生产线用于比较的进度条\r\n                    continue;\r\n                }\r\n                // 没有其他情况的可能性了呀\r\n                else {\r\n                    console.log(relation);\r\n                }\r\n            }\r\n        }\r\n        // 循环所有的进度条后，isInserted 仍然为 false, 即对所有的进度条都没有发生重叠，可以直接插入\r\n        if (!isInserted) {\r\n            console.log(\"没有发生重叠\");\r\n            // 插入数据\r\n            this.progressList.splice(progressBarIndexOfReset, 0, progressBarOfInsert);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 清空整体生产线渲染\r\n     * @param {*} ctx 画布上下文\r\n     */\r\n    clear(ctx) {\r\n        this.progressList.forEach((item) => {\r\n            item.clear(ctx);\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 生产线进度条渲染\r\n     * @param {*} ctx 画布上下文 \r\n     * @param {*} idList 无需渲染的id列表\r\n     */\r\n    renderWithOutIdList(ctx, idList) {\r\n        if (idList == null) {\r\n            this.progressList.forEach((item) => {\r\n                item.render(ctx);\r\n            });\r\n        } else {\r\n            for (var i=0; i<this.progressList.length; i++) {\r\n                if (idList.indexOf(this.progressList[i].id) == -1) {\r\n                    this.progressList[i].render(ctx);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vo/productLine.js","import DateUtil from \"../common/dateUtil\";\r\n\r\nexport default class FactoryCalendar {\r\n    \r\n    constructor() {\r\n        this.yearList = [];\r\n        this.dayList = [];\r\n        this.festivalDayList = [];\r\n    }\r\n\r\n    /**\r\n     * 新增日常工作日的假期信息\r\n     * @param {*} year 年份\r\n     * @param {*} Mon 星期一是否要上班\r\n     * @param {*} Tues 星期二是否要上班\r\n     * @param {*} Wed 星期三是否要上班\r\n     * @param {*} Thurs 星期四是否要上班\r\n     * @param {*} Fri 星期五是否要上班\r\n     * @param {*} Sat 星期六是否要上班\r\n     * @param {*} Sun 星期天是否要上班\r\n     * @param {*} festivalDay 节日信息\r\n     */\r\n    addDetailByYear(year, Mon, Tues, Wed, Thurs, Fri, Sat, Sun, festivalDay) {\r\n        this.yearList.push(year);\r\n        this.dayList.push([Sun, Mon, Tues, Wed, Thurs, Fri, Sat]);\r\n        this.festivalDayList.push(festivalDay);\r\n    }\r\n\r\n    /**\r\n     * 某天是否为非工作日\r\n     * @param {*} srt 时间，如 2019-10-17 \r\n     */\r\n    isHoliday(timeStamp) {\r\n        var time = new Date(timeStamp);\r\n        var year = time.getFullYear();\r\n        var weekDay = time.getDay();\r\n        var index = this.yearList.indexOf(year);\r\n        if (index == -1) {\r\n            return null;\r\n        }\r\n        var dayList = this.dayList[index];\r\n        var dateTemp = this.festivalDayList[index].find((item) => {\r\n            return item == DateUtil.timeStampToDate(timeStamp);\r\n        })\r\n        if (dateTemp != null) {\r\n            return true;\r\n        }\r\n        if (!dayList[weekDay]) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    /**\r\n     * 给予开启时间，需要工作天数 来获取工作日期列表\r\n     * @param {*} startTime 开启日期\r\n     * @param {*} endTime 总需要工作天数\r\n     */\r\n    getEndTime(startTime, endTime) {\r\n        var dayCount = DateUtil.timeStampsToDayCount(startTime, endTime); // 需要多少工作日\r\n        var timeStampTemp = startTime;\r\n        var holidayCount = 0;\r\n        for (var i=0; i<dayCount; i++) {\r\n            if (this.isHoliday(timeStampTemp)) {\r\n               dayCount += 1;\r\n               holidayCount += 1;\r\n            }\r\n            timeStampTemp += DateUtil.timeStampOfOneDay;\r\n        }\r\n        return endTime + holidayCount*DateUtil.timeStampOfOneDay;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vo/factoryCalendar.js","<template>\r\n    <div class=\"windowOfAddProgress-component\">\r\n        <!-- 右侧显示窗口按钮 -->\r\n        <div class=\"showWindowBtn zIndexSuperTop\" @click=\"toggleWindow\" v-show=\"!isShowWindow\">\r\n            添<br />加<br />排<br />产<br />\r\n        </div>\r\n\t\t<div v-show=\"isShowWindow\" class=\"windowOfAddProgress zIndexSuperTop\" v-bind:style=\"{top: cssOfWindow.top + 'px'}\">\r\n            <div class=\"header\">\r\n                <div class=\"txt\">添 加 排 产</div>\r\n                <div class=\"closeBtn\" @click=\"toggleWindow\">\r\n                    <Icon type=\"ios-close-circle\" />\r\n                </div>\r\n            </div>\r\n\t\t\t<!-- 筛选条件输入区域 -->\r\n\t\t\t<div class=\"filterWrapper\">\r\n\t\t\t\t<!--  -->\r\n<!-- \t\t\t\t<div class=\"item\">\r\n\t\t\t\t\t<div class=\"title\">筛选制单号</div>\r\n\t\t\t\t\t<Input  v-model=\"filterProductionLine\" style=\"width: 50px\" @on-change=\"filterSumTableData\" />\r\n\t\t\t\t</div> -->\r\n\t\t\t</div>\r\n\t\t\t<!-- 表格 -->\r\n\t\t\t<Table height=\"450\" border :columns=\"tableTitle\" :data=\"waitingAddProgressList\" @on-row-dblclick=\"dragProgress\"></Table>\r\n\t\t</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CONST from \"../../common/const\";\r\nimport DateUtil from \"../../common/dateUtil\";\r\nimport ProgressBar from \"../../vo/progressBar\";\r\n\r\nexport default {\r\n    data: function() {\r\n        return {\r\n\t\t\ttableTitle: [\r\n\t\t\t\t{\r\n                \ttitle: '制单号',\r\n                \tkey: 'orderno',\r\n                \talign: \"center\"\r\n\t\t\t  \t},\r\n\t\t\t\t{\r\n                \ttitle: '客户',\r\n                \tkey: 'clientName',\r\n                \talign: \"center\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n                \ttitle: '计划数量',\r\n                \tkey: 'qtyofbatcheddelivery',\r\n                \talign: \"center\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n                \ttitle: '离厂日期',\r\n                \tkey: 'deliveryoffactoryTime',\r\n\t\t\t\t\talign: \"center\",\r\n\t\t\t\t\trender: function(h, params) {\r\n\t\t\t\t\t\treturn h(\r\n\t\t\t\t\t\t\t'div',\r\n\t\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t\tDateUtil.timeStampToDate(params.row.deliveryoffactoryTime)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\r\n\r\n\r\n        }\r\n\t},\r\n\tcomputed: {\r\n\t\t// 是否显示窗口\r\n\t\tisShowWindow: function() {\r\n\t\t\treturn this.$store.state.isShowWindowOfAddProgress;\r\n\t\t},\r\n\t\t// 窗口 css 样式\r\n\t\tcssOfWindow: function() {\r\n\t\t\treturn {\r\n\t\t\t\ttop: CONST.STYLEOFTOOLBAR.height + CONST.STYLEOFTOOLBAR.lineWidth\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 获取待添加详情列表\r\n\t\twaitingAddProgressList: function() {\r\n\t\t\treturn this.$store.state.waitingAddProgressList;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t// 切换窗口显示\r\n\t\ttoggleWindow: function() {\r\n\t\t\tthis.$store.commit(\"toggleIsShowWindowOfAddProgress\");\r\n\t\t},\r\n\t\t// \r\n\t\tdragProgress: function(data, index) {\r\n\t\t\tvar progressBar = new ProgressBar(\r\n\t\t\t\tnull,\r\n\t\t\t\tnull,\r\n\t\t\t\tdata\r\n\t\t\t);\r\n\t\t\tthis.$store.commit(\"setActivedProgressBar\", progressBar); // 确定拖动进度条\r\n\t\t\tthis.$store.commit(\"toggleIsShowCtxOfTmp\"); // 显示拖动图层\r\n\t\t\tthis.$store.commit(\"toggleIsShowWindowOfAddProgress\"); // 关闭窗口\r\n\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.showWindowBtn {\r\n\tposition: fixed;\r\n\tright: 0;\r\n\ttop: 45%;\r\n\tpadding: 12px 0;\r\n\twidth: 30px;\r\n\ttext-align: center;\r\n\tfont-size: 16px;\r\n\tline-height: 1.2;\r\n\tcolor: #fff;\r\n\tbackground-color: #3bbf67;\r\n\tborder-top-left-radius: 4px;\r\n\tborder-bottom-left-radius: 4px;\r\n}\r\n.windowOfAddProgress {\r\n\tposition: fixed;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbottom: 0;\r\n\tleft: 70%;\r\n\tbackground-color: #fff;\r\n\tborder:2px solid #3bbf67\r\n}\r\n.windowOfAddProgress .header {\r\n\tbox-sizing: border-box;\r\n\tpadding-left: 10px;\r\n\twidth: 100%;\r\n\theight: 35px;\r\n\tbackground-color: #3bbf67;\r\n\tcolor: #fff;\r\n\toverflow: hidden;\r\n}\r\n.windowOfAddProgress .header .txt {\r\n\tdisplay: inline-block;\r\n\tfont-size: 16px;\r\n\tline-height: 35px;\r\n}\r\n.windowOfAddProgress .closeBtn {\r\n\tdisplay: inline-block;\r\n\tfloat: right;\r\n\twidth: 35px;\r\n\tfont-size: 24px;\r\n\ttext-align: center;\r\n\tline-height: 35px;\r\n\tcolor: rgba(0, 0, 0, 0.5);\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/windowOfAddProgressBar/windowOfAddProgressBar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"windowOfAddProgress-component\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowWindow),expression:\"!isShowWindow\"}],staticClass:\"showWindowBtn zIndexSuperTop\",on:{\"click\":_vm.toggleWindow}},[_vm._v(\"\\n            添\"),_c('br'),_vm._v(\"加\"),_c('br'),_vm._v(\"排\"),_c('br'),_vm._v(\"产\"),_c('br')]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowWindow),expression:\"isShowWindow\"}],staticClass:\"windowOfAddProgress zIndexSuperTop\",style:({top: _vm.cssOfWindow.top + 'px'})},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\"添 加 排 产\")]),_vm._v(\" \"),_c('div',{staticClass:\"closeBtn\",on:{\"click\":_vm.toggleWindow}},[_c('Icon',{attrs:{\"type\":\"ios-close-circle\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"filterWrapper\"}),_vm._v(\" \"),_c('Table',{attrs:{\"height\":\"450\",\"border\":\"\",\"columns\":_vm.tableTitle,\"data\":_vm.waitingAddProgressList},on:{\"on-row-dblclick\":_vm.dragProgress}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-afc91b40\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/windowOfAddProgressBar/windowOfAddProgressBar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-afc91b40\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./windowOfAddProgressBar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./windowOfAddProgressBar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./windowOfAddProgressBar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-afc91b40\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./windowOfAddProgressBar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-afc91b40\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/windowOfAddProgressBar/windowOfAddProgressBar.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toast-component\"},[_c('div',{staticClass:\"toastWrapper\"},[_vm._v(\"\\n        \"+_vm._s(_vm.txt)+\"\\n    \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-085ce136\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/toast/toast.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-085ce136\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./toast.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./toast.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./toast.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-085ce136\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./toast.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-085ce136\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/toast/toast.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div id=\"index-component\">\r\n        <!-- 编辑工具栏 -->\r\n        <v-topToolBar></v-topToolBar>\r\n        <!-- 左侧生产线栏 -->\r\n        <v-productLinBar\r\n            v-if=\"isDone\"\r\n            v-bind:productLineList=\"productLineList\"\r\n            ref=\"productLinesBarHook\">\r\n        </v-productLinBar>\r\n        <!-- 日期栏 -->\r\n        <v-dateBar \r\n            v-if=\"isDone\"\r\n        ></v-dateBar>\r\n        <!-- 背景画布 -->\r\n        <v-backgroundCanvas\r\n            v-if=\"isDone\"\r\n            v-bind:countOfProductLines=\"productLineList.length\">\r\n        </v-backgroundCanvas>\r\n        <!-- 装载进度条画布 -->\r\n        <v-progressBarCanvas\r\n            v-if=\"isDone\"\r\n            v-bind:productLineList=\"productLineList\"\r\n        ></v-progressBarCanvas>\r\n        <!-- 右侧添加进度条窗口 -->\r\n        <v-windowOfAddProgressBar></v-windowOfAddProgressBar>\r\n        <!-- 提示组件 -->\r\n        <v-toast v-show=\"isShowToast\" v-bind:txt=\"toastTxt\"></v-toast>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport topToolBar from \"../topToolBar/topToolBar\";\r\nimport productLinBar from \"../productLineBar/productLineBar\";\r\nimport dateBar from \"../dateBar/dateBar\";\r\nimport backgroundCanvas from \"../backgroundCanvas/backgroundCanvas\";\r\nimport progressBarCanvas from \"../progressBarCanvas/progressBarCanvas\";\r\nimport ProgressBar from \"../../vo/progressBar\";\r\nimport ProductLine from \"../../vo/productLine\";\r\nimport M2V from \"../../common/M2V\";\r\nimport DateUtil from \"../../common/dateUtil\";\r\nimport FactoryCalendar from \"../../vo/factoryCalendar\";\r\nimport windowOfAddProgressBar from \"../windowOfAddProgressBar/windowOfAddProgressBar\";\r\nimport toast from \"../toast/toast\";\r\n\r\nexport default {\r\n    data: function() {\r\n        return {\r\n            isDone: false, // 是否已经获取数据\r\n        }\r\n    },\r\n    computed: {\r\n        // 生产线源数据\r\n        productLineList: function() {\r\n            return this.$store.state.productLineList;\r\n        },\r\n        // 是否显示 toast\r\n        isShowToast: function() {\r\n            return this.$store.state.isShowToast;\r\n        },\r\n        // toast 文本\r\n        toastTxt: function() {\r\n            return this.$store.state.toastTxt;\r\n        }\r\n    },\r\n    created: function() {\r\n        this.getFactoryCalendar();\r\n        this.getAllForAddProgress();\r\n    },\r\n    methods: {\r\n        // 获取工厂日历\r\n        getFactoryCalendar: function() {\r\n            var that = this;\r\n            var yearListOfShow = DateUtil.yearListOfShow;\r\n            this.axios.get(this.seieiURL + \"factoryCalendar/getFactoryCalendarByYear?yearList=\" + yearListOfShow.join(\",\")).then((response) => {\r\n                if (response.data.status) {\r\n                    that.$Message.error(response.data.msg);\r\n                } else {\r\n                    var factoryCalendar = new FactoryCalendar();\r\n                    response.data.data.forEach((item) => {\r\n                        var festivalList = [];\r\n                        item.festivalList.forEach((item2) => {\r\n                           festivalList = festivalList.concat(DateUtil.timeStampsToDateStrList(item2.beginDate, item2.endDate));\r\n                        });\r\n                        factoryCalendar.addDetailByYear(item.year, item.monday, item.tuesday, item.wednesday, item.thursday, item.friday, item.saturday, item.sunday, festivalList);\r\n                    });\r\n                    // 保存到 vuex 中\r\n                    that.$store.commit('setFactoryCalendarObj', factoryCalendar);\r\n                    that.getProductLine();\r\n\r\n                }\r\n            }).catch((error) => {\r\n                that.$Message.error({\r\n                  content: \"服务器异常,请刷新！！\",\r\n                  duration: 0,\r\n                  closable: true\r\n                });\r\n                console.log(error);\r\n            });\r\n        },\r\n        // 获取生产线信息\r\n        getProductLine: function() {\r\n            var that = this;\r\n            var yearListOfShow = DateUtil.yearListOfShow;\r\n            this.axios.get(this.seieiURL + \"productionline/getResourceDataByUserId?year=\" + yearListOfShow[0]).then((response) => {\r\n                if (response.data.status) {\r\n                    that.$Message.error(response.data.msg);\r\n                } else {\r\n                    var resourceData = response.data.data;\r\n                    var productlineList = [];\r\n                    for (var productLineIndex=0; productLineIndex<resourceData.length; productLineIndex++) {\r\n                        var productLineItem = new ProductLine(\r\n                            resourceData[productLineIndex].id,\r\n                            productLineIndex,\r\n                            resourceData[productLineIndex].workgroup,\r\n                            resourceData[productLineIndex].workshop,\r\n                            resourceData[productLineIndex].lineCode,\r\n                            resourceData[productLineIndex].workhours,\r\n                            resourceData[productLineIndex].peopleNum,\r\n                            resourceData[productLineIndex].peopleNumOfLineList,\r\n                            resourceData[productLineIndex].workhoursOfLineList,\r\n                            resourceData[productLineIndex].efficiencyOfLineList\r\n                        );\r\n                        var progressList = [];\r\n                        for (var progressIndex=0; progressIndex<resourceData[productLineIndex].productionPlanningDetailList.length; progressIndex++) {\r\n                            var progressItemTemp = resourceData[productLineIndex].productionPlanningDetailList[progressIndex];\r\n                            var progressItem = new ProgressBar(\r\n                                productLineIndex,\r\n                                resourceData[productLineIndex].id,\r\n                                progressItemTemp\r\n                            ); \r\n                            progressList.push(progressItem);\r\n                        }\r\n                        productLineItem.setProgressList(progressList);\r\n                        productlineList.push(productLineItem);\r\n                    }\r\n                    // 保存到 vuex 中\r\n                    that.$store.commit('setProductLineList', productlineList);\r\n                    that.isDone = true;\r\n                }\r\n            }).catch((error) => {\r\n                that.$Message.error({\r\n                  content: \"服务器异常,请刷新！！\",\r\n                  duration: 0,\r\n                  closable: true\r\n                });\r\n                console.log(error);\r\n            });\r\n        },\r\n        // 获取待排产的详情列表\r\n        getAllForAddProgress: function() {\r\n            var that = this;\r\n            this.axios.get(this.seieiURL + \"productionplanningdetail/getAllForAddProgress\").then((response) => {\r\n                if (response.data.status) {\r\n                    that.$Message.error(response.data.msg);\r\n                } else {\r\n                    that.$store.commit(\"setWaitingAddProgressList\", response.data.data);\r\n                }\r\n            }).catch((error) => {\r\n                that.$Message.error({\r\n                  content: \"服务器异常,请刷新！！\",\r\n                  duration: 0,\r\n                  closable: true\r\n                });\r\n                console.log(error);\r\n            });\r\n        }\r\n    },\r\n    components: {\r\n        'v-topToolBar': topToolBar,\r\n        'v-productLinBar': productLinBar,\r\n        'v-dateBar': dateBar,\r\n        'v-backgroundCanvas': backgroundCanvas,\r\n        'v-progressBarCanvas': progressBarCanvas,\r\n        'v-windowOfAddProgressBar': windowOfAddProgressBar,\r\n        \"v-toast\": toast,\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/index/index.vue","<template>\r\n    <div class=\"toast-component\">\r\n        <div class=\"toastWrapper\">\r\n            {{txt}}\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props:[\"txt\"],\r\n    data: function() {\r\n        return {\r\n            \r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.toastWrapper {\r\n    position: fixed;\r\n    top: 200px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    padding: 10px;\r\n    width: 50%;\r\n    text-align: center;\r\n    font-size: 30px;\r\n    color: #fff;\r\n    background-color: rgba(0,0,0,.7);\r\n    border-radius: 4px;    \r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/toast/toast.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"index-component\"}},[_c('v-topToolBar'),_vm._v(\" \"),(_vm.isDone)?_c('v-productLinBar',{ref:\"productLinesBarHook\",attrs:{\"productLineList\":_vm.productLineList}}):_vm._e(),_vm._v(\" \"),(_vm.isDone)?_c('v-dateBar'):_vm._e(),_vm._v(\" \"),(_vm.isDone)?_c('v-backgroundCanvas',{attrs:{\"countOfProductLines\":_vm.productLineList.length}}):_vm._e(),_vm._v(\" \"),(_vm.isDone)?_c('v-progressBarCanvas',{attrs:{\"productLineList\":_vm.productLineList}}):_vm._e(),_vm._v(\" \"),_c('v-windowOfAddProgressBar'),_vm._v(\" \"),_c('v-toast',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowToast),expression:\"isShowToast\"}],attrs:{\"txt\":_vm.toastTxt}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2820da36\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/index/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2820da36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2820da36\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2820da36\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/index/index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport index from '../components/index/index.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'index',\n      component: index\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport CONST from \"../common/const\";\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n\tstate: {\r\n\t\tisShowNumberofwork: false, // 是否显示人数\r\n\t\tisShowWorkingHours: false, // 是否显示工作时间\r\n\t\tctxOfSource: null, // 源画布 上下文\r\n\t\tctxOfTemp: null, // 移动画布 上下文\r\n\t\tcssAboutScroll: {\r\n\t\t\t// 左侧生产线 bar\r\n\t\t\tstyleOfProductLinesClass: {\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\ttop: (CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFTOOLBAR.lineWidth) + \"px\",\r\n\t\t\t\tleft: \"0px\",\r\n\t\t\t\twidth: CONST.STYLEOFPRODUCTLINESBAR.width + \"px\"\r\n\t\t\t},\r\n\t\t\t// 日期 bar\r\n\t\t\tstyleOfMonthsClass: {\r\n\t\t\t\tposition: \"absolute\",\r\n\t\t\t\ttop: CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFTOOLBAR.lineWidth + \"px\",\r\n\t\t\t\tleft: CONST.STYLEOFPRODUCTLINESBAR.width - CONST.STYLEOFPRODUCTLINESBAR.lineWidth + \"px\"\r\n\t\t\t}\r\n\t\t}, // 用于滚动信息\r\n\t\tfactoryCalendarObj: {}, // 工厂日历\r\n\t\tproductLineList: [], // 生产线源数据\r\n\t\tisShowToast: false, // 是否显示 toast 提示\r\n\t\ttoastTxt: \"\", // toast 提示文本\r\n\t\tisShowWindowOfAddProgress: false, // 是否显示添加进度条窗口\r\n\t\twaitingAddProgressList: [], // 等待被添加的排产详情列表\r\n\t\tactivedProgressBar: null, // 拖动激活的进度条\r\n\t\tisShowCtxOfTmp: false, // 是否显示移动画布\r\n\t},\r\n\tmutations: {\r\n\t\t// 设置画布\r\n        setCtxOfSource(state, ctx) {\r\n\t\t\tstate.ctxOfSource = ctx;\r\n\t\t},\r\n\t\t// 设置临时画布（移动画布）\r\n        setCtxOfTemp(state, ctx) {\r\n\t\t\tstate.ctxOfTemp = ctx;\r\n\t\t},\r\n\t\t// 滚动条纵向滚\r\n\t\tscrollUpOrDown(state) {\r\n\t\t\tstate.cssAboutScroll = {\r\n\t\t\t\t// 左侧生产线 bar\r\n\t\t\t\tstyleOfProductLinesClass: {\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: (CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFTOOLBAR.lineWidth) + \"px\",\r\n\t\t\t\t\tleft: window.pageXOffset + \"px\",\r\n\t\t\t\t\twidth: CONST.STYLEOFPRODUCTLINESBAR.width + \"px\"\r\n\t\t\t\t},\r\n\t\t\t\t// 日期 bar\r\n\t\t\t\tstyleOfMonthsClass: {\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\ttop: CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFTOOLBAR.lineWidth + \"px\",\r\n\t\t\t\t\tleft: - window.pageXOffset + \"px\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 滚动条横向滚\r\n\t\tscrollRightOrLeft(state) {\r\n\t\t\tstate.cssAboutScroll = {\r\n\t\t\t\t// 左侧生产线 bar\r\n\t\t\t\tstyleOfProductLinesClass: {\r\n\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\ttop: (CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFTOOLBAR.lineWidth) - window.pageYOffset + \"px\",\r\n\t\t\t\t\tleft: \"0px\",\r\n\t\t\t\t\twidth: CONST.STYLEOFPRODUCTLINESBAR.width + \"px\"\r\n\t\t\t\t},\r\n\t\t\t\t// 日期 bar\r\n\t\t\t\tstyleOfMonthsClass: {\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\ttop: CONST.STYLEOFTOOLBAR.height - CONST.STYLEOFTOOLBAR.lineWidth + \"px\",\r\n\t\t\t\t\tleft: CONST.STYLEOFPRODUCTLINESBAR.width - CONST.STYLEOFPRODUCTLINESBAR.lineWidth + \"px\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 设置工厂日历\r\n\t\tsetFactoryCalendarObj(state, factoryCalendarObj) {\r\n\t\t\tstate.factoryCalendarObj = factoryCalendarObj;\r\n\t\t},\r\n\t\t// 设置生产线源数据\r\n\t\tsetProductLineList(state, productLineList) {\r\n\t\t\tstate.productLineList = productLineList;\r\n\t\t},\r\n\t\t// 显示 toast \r\n\t\tshowToast(state, toastTxt, time) {\r\n\t\t\tstate.toastTxt = toastTxt;\r\n\t\t\tstate.isShowToast = true;\r\n\t\t},\r\n\t\t// 隐藏 toast\r\n\t\thideToast(state) {\r\n\t\t\tstate.isShowToast = false;\r\n\t\t},\r\n\t\t// 切换显示添加进度条窗口\r\n\t\ttoggleIsShowWindowOfAddProgress(state) {\r\n\t\t\tstate.isShowWindowOfAddProgress = !state.isShowWindowOfAddProgress;\r\n\t\t},\r\n\t\t// 设置 waitingAddProgressList\r\n\t\tsetWaitingAddProgressList(state, waitingAddProgressList) {\r\n\t\t\tstate.waitingAddProgressList = waitingAddProgressList;\r\n\t\t},\r\n\t\t// 设置拖动激活 activedProgressBar\r\n\t\tsetActivedProgressBar(state, activedProgressBar) {\r\n\t\t\tstate.activedProgressBar = activedProgressBar;\r\n\t\t},\r\n\t\t// 切换移动画布\r\n\t\ttoggleIsShowCtxOfTmp(state) {\r\n\t\t\tstate.isShowCtxOfTmp = !state.isShowCtxOfTmp;\r\n\t\t}\r\n\t}\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","\r\n// 滚动条工具\r\nexport default class ScrollUtil {\r\n\r\n    constructor() {\r\n        this.scrollXY = { x: null, y: null};\r\n        this.scrollDirection = null;\r\n    }\r\n\r\n    // 滚动\r\n    scroll() {\r\n        if (this.scrollXY.x == null) {\r\n            this.scrollXY.x = window.pageXOffset;\r\n            this.scrollXY.y = window.pageYOffset;\r\n        }\r\n        var diffX = this.scrollXY.x - window.pageXOffset;\r\n        var diffY = this.scrollXY.y - window.pageYOffset;\r\n        if (diffX < 0) {\r\n            // Scroll right\r\n            this.scrollDirection = 'right';\r\n        } else if (diffX > 0) {\r\n            // Scroll left\r\n            this.scrollDirection = 'left';\r\n        } else if (diffY < 0) {\r\n            // Scroll down\r\n            this.scrollDirection = 'down';\r\n        } else if (diffY > 0) {\r\n            // Scroll up\r\n            this.scrollDirection = 'up';\r\n        } else {\r\n            // First scroll event\r\n        }\r\n        this.scrollXY.x = window.pageXOffset;\r\n        this.scrollXY.y = window.pageYOffset;\r\n    }\r\n\r\n    // 获取滚动条坐标\r\n    get getScrollXY() {\r\n        return this.scrollXY;\r\n    }\r\n\r\n    // 获取滚动方向\r\n    get getScrollDirection() {\r\n        return this.scrollDirection;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/scrollUtil.js","import ScrollUtil from \"./scrollUtil\";\r\n\r\n// 注册自定义插件\r\nexport default{\r\n\tinstall: function(Vue, opt) {\r\n\t\t// 定义 goBack 实例方法，返回上一页\r\n\t\tVue.mixin({\r\n\t\t\tdata: function() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tseieiURL: \"http://localhost:8080/api/\",\r\n\t\t\t\t\tscrollDirection: null, // 滚动方向\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmethods: {\r\n\t\t\t\t// 显示提示\r\n\t\t\t\tshowToast: function(toastTxt, time) {\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tif (time == null) {\r\n\t\t\t\t\t\ttime = 2000;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$store.commit(\"showToast\", toastTxt);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthat.$store.commit(\"hideToast\");\r\n\t\t\t\t\t}, time);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcreated: function () {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t// todo 检测用户登录信息\r\n\t\t\t\t\r\n\t\t\t\t// 检查滚动\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tvar scrollUtil = new ScrollUtil();\r\n\t\t\t\t\twindow.onscroll = function() {\r\n\t\t\t\t\t\tscrollUtil.scroll();\r\n\t\t\t\t\t\tif (scrollUtil.scrollDirection == 'down' || scrollUtil.scrollDirection == 'up') {\r\n\t\t\t\t\t\t\tthat.$store.commit('scrollUpOrDown');\r\n\t\t\t\t\t\t} else if (scrollUtil.scrollDirection == 'right' || scrollUtil.scrollDirection == 'left') {\r\n\t\t\t\t\t\t\tthat.$store.commit('scrollRightOrLeft');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/common/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue';\nimport App from './App';\nimport router from './router';\nimport Axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport store from './store';\nimport Common from './common';\nimport ViewUI from 'view-design';\nimport 'view-design/dist/styles/iview.css';\n\nVue.config.productionTip = false\nVue.use(VueAxios, Axios);\nVue.use(Common);\nVue.use(ViewUI);\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}